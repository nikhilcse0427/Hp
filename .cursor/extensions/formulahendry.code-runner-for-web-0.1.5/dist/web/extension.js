/*! For license information please see extension.js.LICENSE.txt */
(()=>{"use strict";var e={153:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CodeManager=void 0;const r=n(496),i=n(616),o=n(689),a=n(699);t.CodeManager=class{constructor(e){this.context=e}run(){a.TelemetryClient.sendEvent(o.Constants.telemetry.event.runStart);const e=r.window.activeTextEditor;if(!e)return r.window.showInformationMessage(o.Constants.noFileOpen),void a.TelemetryClient.sendEvent(o.Constants.telemetry.event.runEnd,{[o.Constants.telemetry.isSuccess]:o.Constants.telemetry.fail,[o.Constants.telemetry.error]:o.Constants.noFileOpen});const t=e.document;if("python"!==t.languageId)return r.window.showInformationMessage(o.Constants.notPythonFile),void a.TelemetryClient.sendEvent(o.Constants.telemetry.event.runEnd,{[o.Constants.telemetry.isSuccess]:o.Constants.telemetry.fail,[o.Constants.telemetry.error]:o.Constants.notPythonFile});i.CodeView.show(this.context),i.CodeView.run(t.getText())}}},616:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CodeView=void 0;const r=n(496),i=n(689),o=n(699);t.CodeView=class{static show(e){this.panel?(this.panel.webview.html=this.getWebviewContent(),this.panel.reveal(r.ViewColumn.Beside,!0)):(this.panel=r.window.createWebviewPanel("code-runner-for-web","Code Runner",{viewColumn:r.ViewColumn.Beside,preserveFocus:!0},{enableScripts:!0,retainContextWhenHidden:!0}),this.panel.webview.html=this.getWebviewContent(),this.panel.webview.onDidReceiveMessage((e=>{e.isSuccess?o.TelemetryClient.sendEvent(i.Constants.telemetry.event.runEnd,{[i.Constants.telemetry.isSuccess]:i.Constants.telemetry.success}):o.TelemetryClient.sendEvent(i.Constants.telemetry.event.runEnd,{[i.Constants.telemetry.isSuccess]:i.Constants.telemetry.fail,[i.Constants.telemetry.error]:e.error})}),void 0,e.subscriptions),this.panel.onDidDispose((()=>{this.panel=void 0})))}static run(e){this.panel&&this.panel.webview.postMessage({code:e})}static getWebviewContent(){return'<!DOCTYPE html>\n        <html lang="en">\n        \n        <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <script src="https://cdn.jsdelivr.net/pyodide/v0.18.1/full/pyodide.js"><\/script>\n            <title>Code Runner</title>\n        </head>\n        \n        <body>\n            <input type="text" id="status" value="Initializing..." style="font-size: 25px; margin: 20px 0 5px; padding: 8px; font-weight: bold;" disabled>\n            <textarea id="output" style="width: 100%; padding: 8px; font-size: 20px;" rows="30" disabled></textarea>\n            <script>\n                const status = document.getElementById("status");\n                const output = document.getElementById("output");\n                const vscode = acquireVsCodeApi();\n\n                let pyodide;\n\n                function setloadPackagesStatus() {\n                    status.value = "Loading Packages...";\n                    output.value = "";\n                }\n\n                function setRunStartStatus() {\n                    status.value = "Running...";\n                    output.value = "";\n                }\n\n                function setRunFailureStatus() {\n                    status.value = "Code Run has error!";\n                    output.style.color = "red";\n                }\n\n                function setRunEndStatus() {\n                    status.value = "Code Run is done.";\n                    output.style.color = "blue";\n                }\n                \n                async function run(code) {\n                    try {\n                        if (!pyodide) {\n                            pyodide = await loadPyodide({\n                                indexURL: "https://cdn.jsdelivr.net/pyodide/v0.18.1/full/"\n                            });\n                        }\n\n                        setloadPackagesStatus();\n                        await pyodide.loadPackagesFromImports(code);\n\n                        setRunStartStatus();\n                        await pyodide.runPythonAsync(`\n                                import sys\n                                import io\n                                sys.stdout = io.StringIO()\n                            `);\n                    \n                        await pyodide.runPythonAsync(code);\n                    }\n                    catch (error) {\n                        output.value = error;\n                        setRunFailureStatus();\n                        \n                        vscode.postMessage({\n                            error: error.toString()\n                        })\n\n                        return;\n                    }\n\n                    let stdout = await pyodide.runPythonAsync("sys.stdout.getvalue()")\n                    output.value = stdout;\n                    setRunEndStatus();\n\n                    vscode.postMessage({\n                        isSuccess: true\n                    })\n                }\n        \n                // Handle the message inside the webview\n                window.addEventListener(\'message\', event => {\n        \n                    const message = event.data; // The JSON data our extension sent\n        \n                    run(message.code)\n                });\n            <\/script>\n        </body>\n        \n        </html>'}}},689:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Constants=void 0;class n{}t.Constants=n,n.extensionId="formulahendry.code-runner-for-web",n.aiKey="72d77067-0e01-4582-8ff9-c26e5ccad2b8",n.noFileOpen="No file opened.",n.notPythonFile="Please open a Python file.",n.telemetry={isSuccess:"is-success",success:"yes",fail:"no",error:"error",event:{runStart:"run-start",runEnd:"run-end"}}},699:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryClient=void 0;const i=n(496),o=n(374),a=n(689),s=i.extensions.getExtension(a.Constants.extensionId).packageJSON;class c{static sendEvent(e,t,n){return r(this,void 0,void 0,(function*(){this._client.sendTelemetryEvent(e,t,n)}))}}t.TelemetryClient=c,c._client=new o.default(s.name,s.version,a.Constants.aiKey)},374:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_c});var r,i,o,a,s,c,u,l,d,f,p,g,h=n(496),v=Object.defineProperty,m=(e,t)=>()=>(e&&(t=e(e=0)),t),y=m((()=>{r={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}})),I=m((()=>{i="function",o="object",a="undefined",s="prototype",c="hasOwnProperty",l=(u=Object)[s],d=u.assign,f=u.create,p=u.defineProperty,g=l[c]}));function x(){return typeof globalThis!==a&&globalThis?globalThis:typeof self!==a&&self?self:typeof window!==a&&window?window:typeof n.g!==a&&n.g?n.g:null}function C(e){throw new TypeError(e)}function w(e){if(f)return f(e);if(null==e)return{};var t=typeof e;function n(){}return t!==o&&t!==i&&C("Object prototype may only be an Object:"+e),n[s]=e,new n}var T=m((()=>{I()}));function S(e,t){function n(){this.constructor=e}typeof t!==i&&null!==t&&C("Class extends value "+String(t)+" is not a constructor or null"),k(e,t),e[s]=null===t?w(t):(n[s]=t[s],new n)}var b,E,k,A=m((()=>{I(),T(),(x()||{}).Symbol,(x()||{}).Reflect,b=function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])l[c].call(t,i)&&(e[i]=t[i]);return e},E=d||b,k=function(e,t){return k=u.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[c](n)&&(e[n]=t[n])},k(e,t)}})),P=m((()=>{})),N=m((()=>{I(),T(),A(),P()}));function _(e,t){return e&&re[z].hasOwnProperty.call(e,t)}function R(e){return e&&(e===re[z]||e===Array[z])}function D(e){return R(e)||e===Function[z]}function L(e){if(e){if(ie)return ie(e);var t=e[ee]||e[z]||(e[j]?e[j][z]:null);if(t)return t}return null}function M(e,t){var n=[],r=re.getOwnPropertyNames;if(r)n=r(e);else for(var i in e)"string"==typeof i&&_(e,i)&&n.push(i);if(n&&n.length>0)for(var o=0;o<n.length;o++)t(n[o])}function F(e,t,n){return t!==j&&typeof e[t]===W&&(n||_(e,t))}function U(e){throw new TypeError("DynamicProto: "+e)}function q(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function O(e,t,n,r){var i=null;if(e&&_(n,X)){var o=e[K]||{};if((i=(o[n[X]]||{})[t])||U("Missing ["+t+"] "+W),!i[$]&&!1!==o[Q]){for(var a=!_(e,t),s=L(e),c=[];a&&s&&!D(s)&&!q(c,s);){var u=s[t];if(u){a=u===r;break}c.push(s),s=L(s)}try{a&&(e[t]=i),i[$]=1}catch(e){o[Q]=!1}}}return i}function V(e,t,n){var r=t[e];return r===n&&(r=L(t)[e]),typeof r!==W&&U("["+e+"] is not a "+W),r}function B(e,t){return _(e,z)?e.name||t||Z:((e||{})[j]||{}).name||t||Z}function H(e,t,n,r){_(e,z)||U("theClass is an invalid class definition.");var i=e[z];(function(e,t){if(ie)for(var n=[],r=L(t);r&&!D(r)&&!q(n,r);){if(r===e)return!0;n.push(r),r=L(r)}return!1})(i,t)||U("["+B(e)+"] is not in class hierarchy of ["+B(t)+"]");var o=null;_(i,X)?o=i[X]:(o=J+B(e,"_")+"$"+oe,oe++,i[X]=o);var a=H[Y],s=!!a[te];s&&r&&void 0!==r[te]&&(s=!!r[te]);var c=function(e){var t={};return M(e,(function(n){!t[n]&&F(e,n,!1)&&(t[n]=e[n])})),t}(t),u=function(e,t,n,r){function i(e,t,n){var i=t[n];if(i[G]&&r){var o=e[K]||{};!1!==o[Q]&&(i=(o[t[X]]||{})[n]||i)}return function(){return i.apply(e,arguments)}}var o={};M(n,(function(e){o[e]=i(t,n,e)}));for(var a=L(e),s=[];a&&!D(a)&&!q(s,a);)M(a,(function(e){!o[e]&&F(a,e,!ie)&&(o[e]=i(t,a,e))})),s.push(a),a=L(a);return o}(i,t,c,s);n(t,u);var l=!!ie&&!!a[ne];l&&r&&(l=!!r[ne]),function(e,t,n,r,i){if(!R(e)){var o=n[K]=n[K]||{},a=o[t]=o[t]||{};!1!==o[Q]&&(o[Q]=!!i),M(n,(function(t){F(n,t,!1)&&n[t]!==r[t]&&(a[t]=n[t],delete n[t],(!_(e,t)||e[t]&&!e[t][G])&&(e[t]=function(e,t){var n=function(){return(O(this,t,e,n)||V(t,e,n)).apply(this,arguments)};return n[G]=1,n}(e,t)))}))}}(i,o,t,c,!1!==l)}var j,z,W,K,G,X,J,$,Q,Y,Z,ee,te,ne,re,ie,oe,ae,se,ce,ue,le=m((()=>{j="constructor",z="prototype",W="function",K="_dynInstFuncs",G="_isDynProxy",X="_dynClass",J="_dynCls$",Q=$="_dynInstChk",Y="_dfOpts",Z="_unknown_",ee="__proto__",te="useBaseInst",ne="setInstFuncs",ie=(re=Object).getPrototypeOf,oe=0,ae={setInstFuncs:!0,useBaseInst:!0},H[Y]=ae,se=H})),de=m((()=>{var e;(e=ce||(ce={}))[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING",ue={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103}}));function fe(e){return l.toString.call(e)}function pe(e,t){return typeof e===t}function ge(e){return void 0===e||typeof e===a}function he(e){return null===e||ge(e)}function ve(e){return!he(e)}function me(e,t){return e&&g.call(e,t)}function ye(e){return typeof e===o}function Ie(e){return typeof e===i}function xe(e,t,n,r){void 0===r&&(r=!1);var i=!1;if(!he(e))try{he(e[Je])?he(e[Xe])||(e[Xe](Ge+t,n),i=!0):(e[Je](t,n,r),i=!0)}catch(e){}return i}function Ce(e,t,n,r){if(void 0===r&&(r=!1),!he(e))try{he(e[Qe])?he(e[$e])||e[$e](Ge+t,n):e[Qe](t,n,r)}catch(e){}}function we(e,t){if(e)for(var n in e)g.call(e,n)&&t.call(e,n,e[n])}function Te(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}function Se(e){return"[object Date]"===fe(e)}function be(e){return"[object Array]"===fe(e)}function Ee(e){return"[object Error]"===fe(e)}function ke(e){return"string"==typeof e}function Ae(e){return"number"==typeof e}function Pe(e){return"boolean"==typeof e}function Ne(e){if(Se(e)){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function _e(e,t,n){for(var r=e.length,i=0;i<r&&(!(i in e)||-1!==t.call(n||e,e[i],i,e));i++);}function Re(e,t,n){for(var r=e.length,i=n||0,o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in e&&e[o]===t)return o;return-1}function De(e,t,n){for(var r=e.length,i=n||e,o=new Array(r),a=0;a<r;a++)a in e&&(o[a]=t.call(i,e[a],e));return o}function Le(e,t,n){var r,i=e.length,o=0;if(arguments.length>=3)r=arguments[2];else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=t(r,e[o],o,e)),o++;return r}function Me(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}function Fe(e){var t=typeof e;t!==i&&(t!==o||null===e)&&C("objKeys called on non-object");var n=[];for(var r in e)e&&g.call(e,r)&&n.push(r);if(Ze)for(var a=et.length,s=0;s<a;s++)e&&g.call(e,et[s])&&n.push(et[s]);return n}function Ue(e,t,n,r){if(Ye)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),Ye(e,t,i),!0}catch(e){}return!1}function qe(){var e=Date;return e.now?e.now():(new e).getTime()}function Oe(e){return Ee(e)?e.name:""}function Ve(e,t,n,r,i){var o=n;return e&&(o=e[t])!==n&&(!i||i(o))&&(!r||r(n))&&(o=n,e[t]=o),o}function Be(e,t,n){var r;return e?!(r=e[t])&&he(r)&&(r=ge(n)?{}:n,e[t]=r):r=ge(n)?{}:n,r}function He(e){return!e}function je(e){return!!e}function ze(e){throw new Error(e)}function We(e,t,n){if(e&&t&&e!==t&&ye(e)&&ye(t)){var r=function(r){if(ke(r)){var i=t[r];Ie(i)?(!n||n(r,!0,t,e))&&(e[r]=(o=r,function(){var e=arguments;return t[o].apply(t,e)})):(!n||n(r,!1,t,e))&&(me(e,r)&&delete e[r],Ue(e,r,(function(){return t[r]}),(function(e){t[r]=e}))||(e[r]=i))}var o};for(var i in t)r(i)}return e}function Ke(e){return e&&(e=u(d?d({},e):e)),e}var Ge,Xe,Je,$e,Qe,Ye,Ze,et,tt=m((()=>{N(),Ge="on",Xe="attachEvent",Je="addEventListener",$e="detachEvent",Qe="removeEventListener",Ye=p,u.freeze,u.seal,Ze=!{toString:null}.propertyIsEnumerable("toString"),et=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]}));function nt(e){var t=x();return t&&t[e]?t[e]:e===ht&&rt()?window:null}function rt(){return Boolean(typeof window===o&&window)}function it(){return rt()?window:nt(ht)}function ot(){return Boolean(typeof document===o&&document)}function at(){return ot()?document:nt(vt)}function st(){return Boolean(typeof navigator===o&&navigator)?navigator:nt(mt)}function ct(e){if(e&&Nt){var t=nt("__mockLocation");if(t)return t}return typeof location===o&&location?location:nt(It)}function ut(){return nt(Ct)}function lt(){return Boolean(typeof JSON===o&&JSON||null!==nt(wt))}function dt(){return lt()?JSON||nt(wt):null}function ft(){var e=st();if(e&&(e.userAgent!==Pt||null===At)){var t=((Pt=e.userAgent)||"").toLowerCase();At=Te(t,Et)||Te(t,kt)}return At}function pt(e){if(void 0===e&&(e=null),!e){var t=st()||{};e=t?(t.userAgent||"").toLowerCase():""}var n=(e||"").toLowerCase();if(Te(n,Et))return parseInt(n.split(Et)[1]);if(Te(n,kt)){var r=parseInt(n.split(kt)[1]);if(r)return r+4}return null}function gt(e){var t=Object[s].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":lt()&&(n=dt().stringify(e)),t+n}var ht,vt,mt,yt,It,xt,Ct,wt,Tt,St,bt,Et,kt,At,Pt,Nt,_t=m((()=>{N(),tt(),ht="window",vt="document",mt="navigator",yt="history",It="location",xt="console",Ct="performance",wt="JSON",Tt="crypto",St="msCrypto",bt="ReactNative",Et="msie",kt="trident/",At=null,Pt=null,Nt=!1}));function Rt(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function Dt(e,t){return(e||{}).logger||new Mt(t)}var Lt,Mt,Ft=m((()=>{de(),_t(),le(),tt(),Lt=function(){function e(e,t,n,r){void 0===n&&(n=!1);var i=this;i.messageId=e,i.message=(n?"AI: ":"AI (Internal): ")+e;var o="";lt()&&(o=dt().stringify(r));var a=(t?" message:"+Rt(t):"")+(r?" props:"+Rt(o):"");i.message+=a}return e.dataType="MessageData",e}(),Mt=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};se(e,this,(function(e){function i(e,n){var r=t[e];return he(r)?n:r}he(t)&&(t={}),e.consoleLoggingLevel=function(){return i("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return i("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return i("maxMessageLimit",25)},e.enableDebugExceptions=function(){return i("enableDebugExceptions",!1)},e.throwInternal=function(t,n,i,o,a){void 0===a&&(a=!1);var s=new Lt(n,i,a,o);if(e.enableDebugExceptions())throw s;if(!ge(s.message)){var c=e.consoleLoggingLevel();if(a){var u=+s.messageId;!r[u]&&c>=ce.WARNING&&(e.warnToConsole(s.message),r[u]=!0)}else c>=ce.WARNING&&e.warnToConsole(s.message);e.logInternalMessage(t,s)}},e.warnToConsole=function(e){var t=typeof console!==a?console:nt(xt);if(t){var n="log";t.warn&&(n="warn"),Ie(t[n])&&t[n](e)}},e.resetInternalMessageCount=function(){n=0,r={}},e.logInternalMessage=function(t,i){if(!(n>=e.maxInternalMessageLimit())){var o=!0,a="AITR_"+i.messageId;if(r[a]?o=!1:r[a]=!0,o&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(i),n++),n===e.maxInternalMessageLimit())){var s="Internal events throttle limit per PageView reached for this app.",c=new Lt(ue.MessageLimitPerPVExceeded,s,!1);e.queue.push(c),e.warnToConsole(s)}}}}))}}));function Ut(e,t,n,r,i){if(e){var o=e;if(Ie(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var a=void 0,s=o.getCtx(Vt);try{if(a=o.create(t(),r,i)){if(s&&a.setCtx&&(a.setCtx(qt.ParentContextKey,s),s.getCtx&&s.setCtx)){var c=s.getCtx(qt.ChildrenContextKey);c||(c=[],s.setCtx(qt.ChildrenContextKey,c)),c.push(a)}return o.setCtx(Vt,a),n(a)}}catch(e){a&&a.setCtx&&a.setCtx("exception",e)}finally{a&&o.fire(a),o.setCtx(Vt,s)}}}return n()}var qt,Ot,Vt,Bt,Ht=m((()=>{le(),tt(),qt=function(){function e(t,n,r){var i,o=this,a=!1;o.start=qe(),o.name=t,o.isAsync=r,o.isChildEvt=function(){return!1},Ie(n)&&(a=Ue(o,"payload",(function(){return!i&&Ie(n)&&(i=n(),n=null),i}))),o.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?o[t]:(o.ctx||{})[t]:null},o.setCtx=function(t,n){t&&(t===e.ParentContextKey?(o[t]||(o.isChildEvt=function(){return!0}),o[t]=n):t===e.ChildrenContextKey?o[t]=n:(o.ctx=o.ctx||{})[t]=n)},o.complete=function(){var t=0,r=o.getCtx(e.ChildrenContextKey);if(be(r))for(var i=0;i<r.length;i++){var s=r[i];s&&(t+=s.time)}o.time=qe()-o.start,o.exTime=o.time-t,o.complete=function(){},!a&&Ie(n)&&(o.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Ot=function e(t){this.ctx={},se(e,this,(function(e){e.create=function(e,t,n){return new qt(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}}))},Vt="CoreUtils.doPerf"})),jt=m((()=>{Ht(),de(),tt(),Bt=function(e,t){var n=this,r=null,i=Ie(e.processTelemetry),o=Ie(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return r},n.setNext=function(e){r=e},n.processTelemetry=function(a,s){s||(s=t);var c=e?e.identifier:"TelemetryPluginChain";Ut(s?s.core():null,(function(){return c+":processTelemetry"}),(function(){if(e&&i){n._hasRun=!0;try{s.setNext(r),o&&e.setNextPlugin(r),r&&(r._hasRun=!1),e.processTelemetry(a,s)}catch(n){var t=r&&r._hasRun;(!r||!t)&&s.diagLog().throwInternal(ce.CRITICAL,ue.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+n),r&&!t&&r.processTelemetry(a,s)}}else r&&(n._hasRun=!0,r.processTelemetry(a,s))}),(function(){return{item:a}}),!a.sync)}}}));function zt(e,t){var n=[];if(e&&e.length>0)for(var r=null,i=0;i<e.length;i++){var o=e[i];if(o&&Ie(o.processTelemetry)){var a=new Bt(o,t);n.push(a),r&&r.setNext(a),r=a}}return n.length>0?n[0]:null}var Wt,Kt,Gt,Xt,Jt,$t=m((()=>{Ft(),jt(),tt(),Wt=function e(t,n,r,i){var o=this,a=null;null!==i&&(t&&Ie(t.getPlugin)?a=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var o=e.getPlugin();(i||o===n)&&(i=!0,r.push(o)),e=e.getNext()}return i||r.push(n),zt(r,t)}(t,o,i||t.getPlugin()):i?a=function(e,t,n){var r=e,i=!1;return n&&e&&(r=[],_e(e,(function(e){(i||e===n)&&(i=!0,r.push(e))}))),n&&!i&&(r||(r=[]),r.push(n)),zt(r,t)}(t,o,i):ge(i)&&(a=zt(t,o))),o.core=function(){return r},o.diagLog=function(){return Dt(r,n)},o.getCfg=function(){return n},o.getExtCfg=function(e,t){var r;if(void 0===t&&(t={}),n){var i=n.extensionConfig;i&&e&&(r=i[e])}return r||t},o.getConfig=function(e,t,r){void 0===r&&(r=!1);var i,a=o.getExtCfg(e,null);return a&&!he(a[t])?i=a[t]:n&&!he(n[t])&&(i=n[t]),he(i)?r:i},o.hasNext=function(){return null!=a},o.getNext=function(){return a},o.setNext=function(e){a=e},o.processNext=function(e){var t=a;t&&(a=t.getNext(),t.processTelemetry(e,o))},o.createNew=function(t,i){return void 0===t&&(t=null),new e(t||a,n,r,i)}}})),Qt=m((()=>{Kt="iKey",Gt="extensionConfig"})),Yt=m((()=>{$t(),tt(),Qt(),Xt="getPlugin",Jt=function(){function e(){var e=this,t=!1,n=null,r=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){r=e},e.processNext=function(e,t){t?t.processNext(e):r&&Ie(r.processTelemetry)&&r.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var i=t;if(!i){var o=n||new Wt(null,{},e.core);i=r&&r[Xt]?o.createNew(null,r[Xt]):o.createNew(null,r)}return i},e._baseTelInit=function(i,o,a,s){i&&Ve(i,Gt,[],null,he),!s&&o&&(s=o.getProcessTelContext().getNext());var c=r;r&&r[Xt]&&(c=r[Xt]()),e.core=o,n=new Wt(s,i,o,c),t=!0}}return e.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},e}()}));function Zt(e,t){for(var n=[],r=null,i=e.getNext();i;){var o=i.getPlugin();o&&(r&&Ie(r[rn])&&Ie(o[tn])&&r[rn](o),(!Ie(o[on])||!o[on]())&&n.push(o),r=o,i=i.getNext())}_e(n,(function(n){n.initialize(e.getCfg(),e.core(),t,e.getNext())}))}function en(e){return e.sort((function(e,t){var n=0,r=Ie(t[tn]);return Ie(e[tn])?n=r?e[nn]-t[nn]:1:r&&(n=-1),n}))}var tn,nn,rn,on,an,sn=m((()=>{tt(),tn="processTelemetry",nn="priority",rn="setNextPlugin",on="isInitialized"})),cn=m((()=>{N(),le(),Yt(),$t(),sn(),tt(),500,an=function(e){function t(){var n,r=e.call(this)||this;function i(e){e&&e.length>0&&(function(e){_e(e,(function(e){e.priority<500&&ze("Channel has invalid priority"+e.identifier)}))}(e=e.sort((function(e,t){return e.priority-t.priority}))),n.push(e))}return r.identifier="ChannelControllerPlugin",r.priority=500,se(t,r,(function(e,t){e.setNextPlugin=function(e){},e.processTelemetry=function(e,t){n&&_e(n,(function(n){n.length>0&&r._getTelCtx(t).createNew(n).processNext(e)}))},e.getChannelControls=function(){return n},e.initialize=function(r,o,a){e.isInitialized()||(t.initialize(r,o,a),function(e,t){if(n=[],e&&_e(e,(function(e){return i(e)})),t){var r=[];_e(t,(function(e){e.priority>500&&r.push(e)})),i(r)}}((r||{}).channels,a),_e(n,(function(e){return Zt(new Wt(e,r,o),a)})))}})),r}return S(t,e),t._staticInit=(Ue(n=t.prototype,"ChannelControls",n.getChannelControls),void Ue(n,"channelQueue",n.getChannelControls)),t;var n}(Jt)}));function un(e,t){var n=fn[kn]||Ln[kn];return n||(n=fn[kn]=fn(e,t),Ln[kn]=n),n}function ln(e){return!e||e.isEnabled()}function dn(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;n=r[kn]?r[kn]:fn(t)}return n||(n=un(t,(e||{}).logger)),n}function fn(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if(Ve(t,"domain",e.cookieDomain,ve,he),Ve(t,"path",e.cookiePath||"/",null,he),he(t[Sn])){var n=void 0;ge(e[bn])||(n=!e[bn]),ge(e[En])||(n=!e[En]),t[Sn]=n}return t}(e||Ln),r=n.path||"/",i=n.domain,o=!1!==n[Sn],a={isEnabled:function(){var e=o&&pn(t),n=Ln[kn];return e&&n&&a!==n&&(e=ln(n)),e},setEnabled:function(e){o=!1!==e},set:function(e,t,o,s,c){if(ln(a)){var u={},l=Me(t||An),d=l.indexOf(";");if(-1!==d&&(l=Me(t.substring(0,d)),u=gn(t.substring(d+1))),Ve(u,"domain",s||i,je,ge),!he(o)){var f=ft();if(ge(u[Tn])){var p=qe()+1e3*o;if(p>0){var g=new Date;g.setTime(p),Ve(u,Tn,hn(g,f?xn:Cn)||hn(g,f?xn:Cn)||An,je)}}f||Ve(u,"max-age",An+o,null,ge)}var h=ct();h&&"https:"===h.protocol&&(Ve(u,"secure",null,null,ge),null===Nn&&(Nn=!In((st()||{}).userAgent)),Nn&&Ve(u,"SameSite","None",null,ge)),Ve(u,"path",c||r,null,ge),(n.setCookie||yn)(e,vn(l,u))}},get:function(e){var t=An;return ln(a)&&(t=(n.getCookie||mn)(e)),t},del:function(e,t){ln(a)&&a.purge(e,t)},purge:function(e,r){if(pn(t)){var i=((o={}).path=r||"/",o[Tn]="Thu, 01 Jan 1970 00:00:01 GMT",o);ft()||(i["max-age"]="0"),(n.delCookie||yn)(e,vn(An,i))}var o}};return a[kn]=a,a}function pn(e){if(null===Pn){Pn=!1;try{Pn=void 0!==(Rn||{})[wn]}catch(t){e&&e.throwInternal(ce.WARNING,ue.CannotAccessCookie,"Cannot access document.cookie - "+Oe(t),{exception:gt(t)})}}return Pn}function gn(e){var t={};return e&&e.length&&_e(Me(e).split(";"),(function(e){if(e=Me(e||An)){var n=e.indexOf("=");-1===n?t[e]=null:t[Me(e.substring(0,n))]=Me(e.substring(n+1))}})),t}function hn(e,t){return Ie(e[t])?e[t]():null}function vn(e,t){var n=e||An;return we(t,(function(e,t){n+="; "+e+(he(t)?An:"="+t)})),n}function mn(e){var t=An;if(Rn){var n=Rn[wn]||An;_n!==n&&(Dn=gn(n),_n=n),t=Me(Dn[e]||An)}return t}function yn(e,t){Rn&&(Rn[wn]=e+"="+t)}function In(e){return!!ke(e)&&!!(Te(e,"CPU iPhone OS 12")||Te(e,"iPad; CPU OS 12")||Te(e,"Macintosh; Intel Mac OS X 10_14")&&Te(e,"Version/")&&Te(e,"Safari")||Te(e,"Macintosh; Intel Mac OS X 10_14")&&function(e,t){if(e){var n=t.length,r=e.length;if(e===t)return!0;if(r>=n){for(var i=r-1,o=n-1;o>=0;o--){if(e[i]!=t[o])return!1;i--}return!0}}return!1}(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Te(e,"Chrome/5")||Te(e,"Chrome/6")||Te(e,"UnrealEngine")&&!Te(e,"Chrome")||Te(e,"UCBrowser/12")||Te(e,"UCBrowser/11"))}var xn,Cn,wn,Tn,Sn,bn,En,kn,An,Pn,Nn,_n,Rn,Dn,Ln,Mn,Fn,Un,qn,On=m((()=>{de(),_t(),tt(),xn="toGMTString",Cn="toUTCString",wn="cookie",Tn="expires",Sn="enabled",bn="isCookieUseDisabled",En="disableCookiesUsage",kn="_ckMgr",An="",Pn=null,Nn=null,_n=null,Rn=at(),Dn={},Ln={}})),Vn=m((()=>{N(),le(),cn(),$t(),sn(),Ht(),On(),tt(),Qt(),Mn="_notificationManager",Fn=function e(){var t,n,r,i,o,a=!1;se(e,this,(function(e){e._extensions=new Array,n=new an,e.logger=w({throwInternal:function(e,t,n,r,i){void 0===i&&(i=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}}),t=[],e.isInitialized=function(){return a},e.initialize=function(t,i,o,s){e.isInitialized()&&ze("Core should not be initialized more than once"),(!t||he(t.instrumentationKey))&&ze("Please provide instrumentation key"),r=s,e[Mn]=s,e.config=t||{},t.extensions=he(t.extensions)?[]:t.extensions,Be(t,Gt).NotificationManager=s,o&&(e.logger=o);var c=[];c.push.apply(c,i.concat(t.extensions)),c=en(c);var u=[],l=[],d={};_e(c,(function(e){(he(e)||he(e.initialize))&&ze("Extensions must provide callback to initialize");var t=e.priority,r=e.identifier;e&&t&&(he(d[t])?d[t]=r:o.warnToConsole("Two extensions have same priority #"+t+" - "+d[t]+", "+r)),!t||t<n.priority?u.push(e):l.push(e)})),c.push(n),u.push(n),c=en(c),e._extensions=c,Zt(new Wt([n],t,e),c),Zt(new Wt(u,t,e),c),e._extensions=u,0===e.getTransmissionControls().length&&ze("No channels available"),a=!0,e.releaseQueue()},e.getTransmissionControls=function(){return n.getChannelControls()},e.track=function(n){Ve(n,Kt,e.config.instrumentationKey,null,He),Ve(n,"time",Ne(new Date),null,He),Ve(n,"ver","4.0",null,he),e.isInitialized()?e.getProcessTelContext().processNext(n):t.push(n)},e.getProcessTelContext=function(){var t=e._extensions,r=t;return(!t||0===t.length)&&(r=[n]),new Wt(r,e.config,e)},e.getNotifyMgr=function(){return r||(r=w({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),e[Mn]=r),r},e.getCookieMgr=function(){return o||(o=fn(e.config,e.logger)),o},e.setCookieMgr=function(e){o=e},e.getPerfMgr=function(){return i||e.config&&e.config.enablePerfMgr&&(i=new Ot(e.getNotifyMgr())),i},e.setPerfMgr=function(e){i=e},e.eventCnt=function(){return t.length},e.releaseQueue=function(){t.length>0&&(_e(t,(function(t){e.getProcessTelContext().processNext(t)})),t=[])}}))}})),Bn=m((()=>{le(),tt(),Un=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;se(e,this,(function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var n=Re(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=Re(e.listeners,t)},e.eventsSent=function(t){_e(e.listeners,(function(e){e&&e.eventsSent&&setTimeout((function(){return e.eventsSent(t)}),0)}))},e.eventsDiscarded=function(t,n){_e(e.listeners,(function(e){e&&e.eventsDiscarded&&setTimeout((function(){return e.eventsDiscarded(t,n)}),0)}))},e.eventsSendRequest=function(t,n){_e(e.listeners,(function(e){if(e&&e.eventsSendRequest)if(n)setTimeout((function(){return e.eventsSendRequest(t,n)}),0);else try{e.eventsSendRequest(t,n)}catch(e){}}))},e.perfEvent=function(t){t&&(n||!t.isChildEvt())&&_e(e.listeners,(function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout((function(){return e.perfEvent(t)}),0);else try{e.perfEvent(t)}catch(e){}}))}}))}})),Hn=m((()=>{N(),Vn(),y(),Bn(),Ht(),Ft(),le(),tt(),qn=function(e){function t(){var n=e.call(this)||this;return se(t,n,(function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],r.InvalidEvent)}e.initialize=function(e,n,r,i){t.initialize(e,n,r||new Mt(e),i||new Un(e))},e.track=function(r){Ut(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===r&&(n(r),ze("Invalid telemetry item")),function(e){if(he(e.name))throw n(e),Error("telemetry name required")}(r),t.track(r)}),(function(){return{item:r}}),!r.sync)},e.addNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.addNotificationListener(t)},e.removeNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.removeNotificationListener(t)},e.pollInternalLogs=function(t){var n=e.config.diagnosticLogInterval;return(!n||!(n>0))&&(n=1e4),setInterval((function(){var n=e.logger?e.logger.queue:[];_e(n,(function(n){var r={name:t||"InternalMessageId: "+n.messageId,iKey:e.config.instrumentationKey,time:Ne(new Date),baseType:Lt.dataType,baseData:{message:n.message}};e.track(r)})),n.length=0}),n)}})),n}return S(t,e),t}(Fn)}));function jn(e){e<0&&(e>>>=0),Yn=123456789+e&$n,Zn=987654321-e&$n,Qn=!0}function zn(){try{var e=2147483647&qe();jn((Math.random()*Jn^e)+e)}catch(e){}}function Wn(e){return e>0?Math.floor(Kn()/$n*(e+1))>>>0:0}function Kn(e){var t,n=nt(Tt)||nt(St);return n&&n.getRandomValues?t=n.getRandomValues(new Uint32Array(1))[0]&$n:ft()?(Qn||zn(),t=Xn()&$n):t=Math.floor(Jn*Math.random()|0),e||(t>>>=0),t}function Gn(e){e?jn(e):zn()}function Xn(e){var t=((Zn=36969*(65535&Zn)+(Zn>>16)&$n)<<16)+(65535&(Yn=18e3*(65535&Yn)+(Yn>>16)&$n))>>>0&$n|0;return e||(t>>>=0),t}var Jn,$n,Qn,Yn,Zn,er=m((()=>{_t(),tt(),Jn=4294967296,$n=4294967295,Qn=!1,Yn=123456789,Zn=987654321}));function tr(e,t){var n=!1,r=it();r&&(n=xe(r,e,t),n=xe(r.body,e,t)||n);var i=at();return i&&(n=vr.Attach(i,e,t)||n),n}function nr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(hr,(function(e){var t=0|Wn(15);return("x"===e?t:3&t|8).toString(16)}))}function rr(){var e=ut();return e&&e.now?e.now():qe()}function ir(e){void 0===e&&(e=22);for(var t=Kn()>>>0,n=0,r="";r.length<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(Kn()<<2&4294967295|3&t)>>>0,n=0);return r}function or(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r=0;r<4;r++)n+=t[15&(e=Kn())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&Kn())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}function ar(e,t){var n=un(e,t),r=gr._canUseCookies;return null===fr&&(fr=[],pr=r,Ue(gr,"_canUseCookies",(function(){return pr}),(function(e){pr=e,_e(fr,(function(t){t.setEnabled(e)}))}))),-1===Re(fr,n)&&fr.push(n),Pe(r)&&n.setEnabled(r),Pe(pr)&&n.setEnabled(pr),n}function sr(){ar().setEnabled(!1)}function cr(e){return ar(null,e).isEnabled()}function ur(e,t){return ar(null,e).get(t)}function lr(e,t,n,r){ar(null,e).set(t,n,null,r)}function dr(e,t){return ar(null,e).del(t)}var fr,pr,gr,hr,vr,mr=m((()=>{N(),On(),_t(),tt(),er(),fr=null,gr={_canUseCookies:void 0,isTypeof:pe,isUndefined:ge,isNullOrUndefined:he,hasOwnProperty:me,isFunction:Ie,isObject:ye,isDate:Se,isArray:be,isError:Ee,isString:ke,isNumber:Ae,isBoolean:Pe,toISOString:Ne,arrForEach:_e,arrIndexOf:Re,arrMap:De,arrReduce:Le,strTrim:Me,objCreate:w,objKeys:Fe,objDefineAccessors:Ue,addEventHandler:tr,dateNow:qe,isIE:ft,disableCookies:sr,newGuid:nr,perfNow:rr,newId:ir,randomValue:Wn,random32:Kn,mwcRandomSeed:Gn,mwcRandom32:Xn,generateW3CId:or},hr=/[xy]/g,vr={Attach:xe,AttachEvent:xe,Detach:Ce,DetachEvent:Ce}}));function yr(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function Ir(e,t,n,r,i){i>=0&&i<=2&&yr(e,(function(e,o){var a=e.cbks,s=a[Tr[i]];if(s){t.ctx=function(){return r[o]=r[o]||{}};try{s.apply(t.inst,n)}catch(e){var c=t.err;try{var u=a[Tr[2]];u&&(t.err=e,u.apply(t.inst,n))}catch(e){}finally{t.err=c}}}}))}function xr(e,t,n){var r=null;return e&&(me(e,t)?r=e:n&&(r=xr(function(e){if(e){if(Er)return Er(e);var t=e[Sr]||e[s]||e[br];if(t)return t}return null}(e),t,!1))),r}function Cr(e,t,n,r){if(void 0===r&&(r=!0),e&&t&&n){var o=xr(e,t,r);if(o){var a=o[t];if(typeof a===i){var s=a[wr];if(!s){var c=function(e){return function(){var t=this,n=arguments,r=e.h,i={name:e.n,inst:t,ctx:null,set:c},o=[],a=s([i],n);function s(e,t){return yr(t,(function(t){e.push(t)})),e}function c(e,t){(n=s([],n))[e]=t,a=s([i],n)}Ir(r,i,a,o,0);var u=e.f;try{i.rslt=u.apply(t,n)}catch(e){throw i.err=e,Ir(r,i,a,o,3),e}return Ir(r,i,a,o,1),i.rslt}}(s={i:0,n:t,f:a,h:[]});c[wr]=s,o[t]=c}var u={id:s.i,cbks:n,rm:function(){var e=this.id;yr(s.h,(function(t,n){if(t.id===e)return s.h.splice(n,1),1}))}};return s.i++,s.h.push(u),u}}}return null}var wr,Tr,Sr,br,Er,kr,Ar=m((()=>{N(),tt(),wr="_aiHooks",Tr=["req","rsp","hkErr","fnErr"],Sr="__proto__",br="constructor",Er=Object.getPrototypeOf})),Pr=m((()=>{Hn(),Vn(),Yt(),er(),mr(),tt(),_t(),N(),Bn(),Ht(),Ft(),de(),Ar(),On()})),Nr=m((()=>{kr={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"}}));function _r(e,t,n){var r=t.length,i=Rr(e,t);if(i.length!==r){for(var o=0,a=i;void 0!==n[a];)o++,a=i.substring(0,147)+Br(o);i=a}return i}function Rr(e,t){var n;return t&&(t=Me(t.toString())).length>150&&(n=t.substring(0,150),e.throwInternal(ce.WARNING,ue.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}function Dr(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=Me(t)).toString().length>n&&(r=t.toString().substring(0,n),e.throwInternal(ce.WARNING,ue.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function Lr(e,t){return Vr(e,t,2048,ue.UrlTooLong)}function Mr(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),e.throwInternal(ce.WARNING,ue.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function Fr(e,t){var n;if(t){var r=""+t;r.length>32768&&(n=r.substring(0,32768),e.throwInternal(ce.WARNING,ue.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}function Ur(e,t){if(t){var n={};we(t,(function(t,r){if(ye(r)&&lt())try{r=dt().stringify(r)}catch(t){e.throwInternal(ce.WARNING,ue.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:t},!0)}r=Dr(e,r,8192),t=_r(e,t,n),n[t]=r})),t=n}return t}function qr(e,t){if(t){var n={};we(t,(function(t,r){t=_r(e,t,n),n[t]=r})),t=n}return t}function Or(e,t){return t&&Vr(e,t,128,ue.IdTooLong).toString()}function Vr(e,t,n,r){var i;return t&&(t=Me(t)).length>n&&(i=t.substring(0,n),e.throwInternal(ce.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function Br(e){var t="00"+e;return t.substr(t.length-3)}var Hr,jr=m((()=>{Pr(),Hr={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:_r,sanitizeKey:Rr,sanitizeString:Dr,sanitizeUrl:Lr,sanitizeMessage:Mr,sanitizeException:Fr,sanitizeProperties:Ur,sanitizeMeasurements:qr,sanitizeId:Or,sanitizeInput:Vr,padNumber:Br,trim:Me}}));function zr(e){var t=null;if(Ie(Event))t=new Event(e);else{var n=at();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t}var Wr=m((()=>{Pr()}));function Kr(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()}function Gr(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,o=Math.floor(e/864e5);return t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,(o>0?o+".":"")+(i=i.length<2?"0"+i:i)+":"+r+":"+n+"."+t}function Xr(){var e=st();return"sendBeacon"in e&&e.sendBeacon}function Jr(e,t){var n=null;return _e(e,(function(e){if(e.identifier===t)return n=e,-1})),n}function $r(e,t,n,r,i){return!i&&ke(e)&&("Script error."===e||"Script error"===e)}var Qr,Yr,Zr,ei,ti,ni,ri,ii,oi=m((()=>{Pr()})),ai=m((()=>{Qr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Yr="sampleRate",Zr="ProcessLegacy",ei="http.method",ti="https://dc.services.visualstudio.com",ni="not_specified"})),si=m((()=>{var e;(e=ri||(ri={}))[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage",function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(ii||(ii={}))}));function ci(){return fi()?ui(ri.LocalStorage):null}function ui(e){try{if(he(x()))return null;var t=new Date,n=nt(e===ri.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch(e){}return null}function li(){return vi()?ui(ri.SessionStorage):null}function di(){Ci=!1,wi=!1}function fi(){return void 0===Ci&&(Ci=!!ui(ri.LocalStorage)),Ci}function pi(e,t){var n=ci();if(null!==n)try{return n.getItem(t)}catch(t){Ci=!1,e.throwInternal(ce.WARNING,ue.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+Oe(t),{exception:gt(t)})}return null}function gi(e,t,n){var r=ci();if(null!==r)try{return r.setItem(t,n),!0}catch(t){Ci=!1,e.throwInternal(ce.WARNING,ue.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+Oe(t),{exception:gt(t)})}return!1}function hi(e,t){var n=ci();if(null!==n)try{return n.removeItem(t),!0}catch(t){Ci=!1,e.throwInternal(ce.WARNING,ue.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+Oe(t),{exception:gt(t)})}return!1}function vi(){return void 0===wi&&(wi=!!ui(ri.SessionStorage)),wi}function mi(){var e=[];return vi()&&we(nt("sessionStorage"),(function(t){e.push(t)})),e}function yi(e,t){var n=li();if(null!==n)try{return n.getItem(t)}catch(t){wi=!1,e.throwInternal(ce.WARNING,ue.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+Oe(t),{exception:gt(t)})}return null}function Ii(e,t,n){var r=li();if(null!==r)try{return r.setItem(t,n),!0}catch(t){wi=!1,e.throwInternal(ce.WARNING,ue.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+Oe(t),{exception:gt(t)})}return!1}function xi(e,t){var n=li();if(null!==n)try{return n.removeItem(t),!0}catch(t){wi=!1,e.throwInternal(ce.WARNING,ue.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+Oe(t),{exception:gt(t)})}return!1}var Ci,wi,Ti=m((()=>{Pr(),si(),Ci=void 0,wi=void 0}));function Si(e){var t=_i,n=Ri,r=n[t];return Ni.createElement?n[t]||(r=n[t]=Ni.createElement("a")):r={host:Ai(e,!0)},r.href=e,++t>=n.length&&(t=0),_i=t,r}function bi(e){var t,n=Si(e);return n&&(t=n.href),t}function Ei(e){var t,n=Si(e);return n&&(t=n.pathname),t}function ki(e,t){return e?e.toUpperCase()+" "+t:t}function Ai(e,t){var n=Pi(e,t)||"";if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>3&&ke(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return n}function Pi(e,t){var n=null;if(e){var r=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>2&&ke(r[2])&&r[2].length>0&&(n=r[2]||"",t&&r.length>2)){var i=(r[1]||"").toLowerCase(),o=r[3]||"";("http"===i&&":80"===o||"https"===i&&":443"===o)&&(o=""),n+=o}}return n}var Ni,_i,Ri,Di=m((()=>{Pr(),Ni=at()||{},_i=0,Ri=[null,null,null,null,null]}));function Li(e){return-1!==Ui.indexOf(e.toLowerCase())}function Mi(){var e=ut();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return qe()}function Fi(e,t){var n=null;return 0!==e&&0!==t&&!he(e)&&!he(t)&&(n=t-e),n}var Ui,qi,Oi,Vi,Bi,Hi=m((()=>{Pr(),Nr(),jr(),Wr(),oi(),ai(),Ti(),Di(),Ui=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],qi={NotSpecified:ni,createDomEvent:zr,disableStorage:di,isInternalApplicationInsightsEndpoint:Li,canUseLocalStorage:fi,getStorage:pi,setStorage:gi,removeStorage:hi,canUseSessionStorage:vi,getSessionStorageKeys:mi,getSessionStorage:yi,setSessionStorage:Ii,removeSessionStorage:xi,disableCookies:sr,canUseCookies:cr,disallowsSameSiteNone:In,setCookie:lr,stringToBoolOrDefault:Kr,getCookie:ur,deleteCookie:dr,trim:Me,newId:ir,random32:function(){return Kn(!0)},generateW3CId:or,isArray:be,isError:Ee,isDate:Se,toISOStringForIE8:Ne,getIEVersion:pt,msToTimeSpan:Gr,isCrossOriginError:$r,dump:gt,getExceptionName:Oe,addEventHandler:xe,IsBeaconApiSupported:Xr,getExtension:Jr},Oi={parseUrl:Si,getAbsoluteUrl:bi,getPathName:Ei,getCompleteUrl:ki,parseHost:Ai,parseFullHost:Pi},Vi={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1;var i=Si(t).host.toLowerCase();if(i&&(-1!==i.indexOf(":443")||-1!==i.indexOf(":80"))&&(i=(Pi(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var o,a=e&&e.correlationHeaderDomains;if(a&&(_e(a,(function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));o=o||t.test(i)})),!o))return!1;var s=e&&e.correlationHeaderExcludedDomains;if(!s||0===s.length)return!0;for(r=0;r<s.length;r++)if(new RegExp(s[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(i))return!1;return i&&i.length>0},getCorrelationContext:function(e){if(e){var t=Vi.getCorrelationContextValue(e,kr.requestContextTargetKey);if(t&&t!==Vi.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(2===i.length&&i[0]===t)return i[1]}}},Bi={Now:Mi,GetDuration:Fi}}));function ji(e){if(!e)return{};var t=Le(e.split(zi),(function(e,t){var n=t.split(Wi);if(2===n.length){var r=n[0].toLowerCase(),i=n[1];e[r]=i}return e}),{});if(Fe(t).length>0){if(t.endpointsuffix){var n=t.location?t.location+".":"";t.ingestionendpoint=t.ingestionendpoint||"https://"+n+"dc."+t.endpointsuffix}t.ingestionendpoint=t.ingestionendpoint||ti}return t}var zi,Wi,Ki,Gi,Xi,Ji,$i,Qi,Yi,Zi,eo,to,no=m((()=>{ai(),Pr(),zi=";",Wi="=",Ki={parse:ji}})),ro=m((()=>{Gi=function(){}})),io=m((()=>{N(),ro(),Xi=function(e){function t(){return e.call(this)||this}return S(t,e),t}(Gi)})),oo=m((()=>{Ji=function(){this.ver=1,this.sampleRate=100,this.tags={}}})),ao=m((()=>{N(),oo(),jr(),Pr(),ai(),$i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.name=Dr(t,r)||ni,i.data=n,i.time=Ne(new Date),i.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===i.sampleRate?4:1},tags:1,data:1},i}return S(t,e),t}(Ji)})),so=m((()=>{Qi=function(){this.ver=2,this.properties={},this.measurements={}}})),co=m((()=>{N(),so(),jr(),ai(),Yi=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.aiDataContract={ver:1,name:1,properties:0,measurements:0},o.name=Dr(t,n)||ni,o.properties=Ur(t,r),o.measurements=qr(t,i),o}return S(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(Qi)})),uo=m((()=>{Zi=function(){}})),lo=m((()=>{eo=function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}})),fo=m((()=>{to=function(){this.hasFullStack=!0,this.parsedStack=[]}}));function po(e,t){var n=e;return n&&!ke(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),t&&(!n||"{}"===n)&&(n=Ie(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function go(e,t){var n=e;return e&&((n=e[So]||e[bo]||"")&&!ke(n)&&(n=po(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(n||"").indexOf(t)&&(n=t+": "+n),n||""}function ho(e){return e&&e.src&&ke(e.src)&&e.obj&&be(e.obj)}function vo(e){var t=e||"";ke(t)||(t=ke(t[Co])?t[Co]:""+t);var n=t.split("\n");return{src:t,obj:n}}function mo(e){var t=null;if(e)try{if(e[Co])t=vo(e[Co]);else if(e[xo]&&e[xo][Co])t=vo(e[xo][Co]);else if(e.exception&&e.exception[Co])t=vo(e.exception[Co]);else if(ho(e))t=e;else if(ho(e[wo]))t=e[wo];else if(window.opera&&e[So])t=function(e){for(var t=[],n=e.split("\n"),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}(e.message);else if(ke(e))t=vo(e);else{var n=e[So]||e[bo]||"";ke(e[To])&&(n&&(n+="\n"),n+=" from "+e[To]),n&&(t=vo(n))}}catch(e){t=vo(e)}return t||{src:"",obj:null}}function yo(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString());t=n&&n.length>1?n[1]:""}catch(e){}return t}function Io(e){if(e)try{if(!ke(e)){var t=yo(e),n=po(e,!1);return(!n||"{}"===n)&&(e[xo]&&(t=yo(e=e[xo])),n=po(e,!0)),0!==n.indexOf(t)&&"String"!==t?t+":"+n:n}}catch(e){}return""+(e||"")}var xo,Co,wo,To,So,bo,Eo,ko,Ao,Po,No,_o,Ro,Do,Lo,Mo,Fo,Uo,qo,Oo,Vo,Bo,Ho,jo,zo,Wo=m((()=>{N(),uo(),lo(),fo(),jr(),Pr(),ai(),xo="error",Co="stack",wo="stackDetails",To="errorSrc",So="message",bo="description",Eo=function(e){function t(t,n,r,i,o,a){var s=e.call(this)||this;return s.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},function(e){return!!ye(e)&&"ver"in e&&"exceptions"in e&&"properties"in e}(n)?(s.exceptions=n.exceptions,s.properties=n.properties,s.measurements=n.measurements,n.severityLevel&&(s.severityLevel=n.severityLevel),n.id&&(s.id=n.id),n.problemGroup&&(s.problemGroup=n.problemGroup),s.ver=2,he(n.isManual)||(s.isManual=n.isManual)):(r||(r={}),s.exceptions=[new ko(t,n,r)],s.properties=Ur(t,r),s.measurements=qr(t,i),o&&(s.severityLevel=o),a&&(s.id=a)),s}return S(t,e),t.CreateAutoException=function(e,t,n,r,i,o,a,s){var c=yo(i||o||e);return{message:go(e,c),url:t,lineNumber:n,columnNumber:r,error:Io(i||o||e),evt:Io(o||e),typeName:c,stackDetails:mo(a||i||o),errorSrc:s}},t.CreateFromInterface=function(e,n,r,i){var o=n.exceptions&&De(n.exceptions,(function(t){return ko.CreateFromInterface(e,t)}));return new t(e,E({},n,{exceptions:o}),r,i)},t.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,i=e.severityLevel,o=(e.ver,e.problemGroup),a=e.id,s=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&De(t,(function(e){return e.toInterface()}))||void 0,severityLevel:i,properties:n,measurements:r,problemGroup:o,id:a,isManual:s}},t.CreateSimpleException=function(e,t,n,r,i,o){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=Io,t}(eo),ko=function(e){function t(t,n,r){var i=e.call(this)||this;if(i.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(e){return!!ye(e)&&"hasFullStack"in e&&"typeName"in e}(n))i.typeName=n.typeName,i.message=n.message,i[Co]=n[Co],i.parsedStack=n.parsedStack,i.hasFullStack=n.hasFullStack;else{var o=n,a=o&&o.evt;Ee(o)||(o=o[xo]||a||o),i.typeName=Dr(t,yo(o))||ni,i.message=Mr(t,go(n||o,i.typeName))||ni;var s=n[wo]||mo(n);i.parsedStack=function(e){var t,n=e.obj;if(n&&n.length>0){t=[];var r=0,i=0;if(_e(n,(function(e){var n=e.toString();if(Ao.regex.test(n)){var o=new Ao(n,r++);i+=o.sizeInBytes,t.push(o)}})),i>32768)for(var o=0,a=t.length-1,s=0,c=o,u=a;o<a;){if((s+=t[o].sizeInBytes+t[a].sizeInBytes)>32768){var l=u-c+1;t.splice(c,l);break}c=o,u=a,o++,a--}}return t}(s),i[Co]=Fr(t,function(e){var t="";return e&&(e.obj?_e(e.obj,(function(e){t+=e+"\n"})):t=e.src||""),t}(s)),i.hasFullStack=be(i.parsedStack)&&i.parsedStack.length>0,r&&(r.typeName=r.typeName||i.typeName)}return i}return S(t,e),t.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&De(this.parsedStack,(function(e){return e.toInterface()}));return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Co],parsedStack:e||void 0}},t.CreateFromInterface=function(e,n){var r=n.parsedStack instanceof Array&&De(n.parsedStack,(function(e){return Ao.CreateFromInterface(e)}))||n.parsedStack;return new t(e,E({},n,{parsedStack:r}))},t}(to),Ao=function(e){function t(n,r){var i=e.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof n){var o=n;i.level=r,i.method="<no_method>",i.assembly=Me(o),i.fileName="",i.line=0;var a=o.match(t.regex);a&&a.length>=5&&(i.method=Me(a[2])||i.method,i.fileName=Me(a[4]),i.line=parseInt(a[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=t.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return S(t,e),t.CreateFromInterface=function(e){return new t(e,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(Zi)})),Ko=m((()=>{Po=function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}})),Go=m((()=>{var e;(e=No||(No={}))[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"})),Xo=m((()=>{Go(),_o=function(){this.kind=No.Measurement}})),Jo=m((()=>{N(),Xo(),Ro=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},t}return S(t,e),t}(_o)})),$o=m((()=>{N(),Ko(),jr(),Jo(),ai(),Do=function(e){function t(t,n,r,i,o,a,s,c){var u=e.call(this)||this;u.aiDataContract={ver:1,metrics:1,properties:0};var l=new Ro;return l.count=i>0?i:void 0,l.max=isNaN(a)||null===a?void 0:a,l.min=isNaN(o)||null===o?void 0:o,l.name=Dr(t,n)||ni,l.value=r,u.metrics=[l],u.properties=Ur(t,s),u.measurements=qr(t,c),u}return S(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(Po)})),Qo=m((()=>{N(),so(),Lo=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return S(t,e),t}(Qi)})),Yo=m((()=>{N(),Qo(),jr(),oi(),ai(),Mo=function(e){function t(t,n,r,i,o,a,s){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=Or(t,s),c.url=Lr(t,r),c.name=Dr(t,n)||ni,isNaN(i)||(c.duration=Gr(i)),c.properties=Ur(t,o),c.measurements=qr(t,a),c}return S(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(Lo)})),Zo=m((()=>{Fo=function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}})),ea=m((()=>{N(),jr(),Hi(),Zo(),oi(),Uo=function(e){function t(t,n,r,i,o,a,s,c,u,l,d,f){void 0===u&&(u="Ajax");var p=e.call(this)||this;p.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},p.id=n,p.duration=Gr(o),p.success=a,p.resultCode=s+"",p.type=Dr(t,u);var g=function(e,t,n,r){var i,o=r,a=r;if(t&&t.length>0){var s=Si(t);if(i=s.host,!o)if(null!=s.pathname){var c=0===s.pathname.length?"/":s.pathname;"/"!==c.charAt(0)&&(c="/"+c),a=s.pathname,o=Dr(e,n?n+" "+c:c)}else o=Dr(e,t)}else i=r,o=r;return{target:i,name:o,data:a}}(t,r,c,i);return p.data=Lr(t,i)||g.data,p.target=Dr(t,g.target),l&&(p.target=p.target+" | "+l),p.name=Dr(t,g.name),p.properties=Ur(t,d),p.measurements=qr(t,f),p}return S(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(Fo)})),ta=m((()=>{qo=function(){this.ver=2,this.properties={},this.measurements={}}})),na=m((()=>{N(),ta(),jr(),ai(),Oo=function(e){function t(t,n,r,i,o){var a=e.call(this)||this;return a.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},n=n||ni,a.message=Mr(t,n),a.properties=Ur(t,i),a.measurements=qr(t,o),r&&(a.severityLevel=r),a}return S(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(qo)})),ra=m((()=>{N(),Qo(),Vo=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return S(t,e),t}(Lo)})),ia=m((()=>{N(),ra(),jr(),ai(),Bo=function(e){function t(t,n,r,i,o,a,s){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=Lr(t,r),c.name=Dr(t,n)||ni,c.properties=Ur(t,o),c.measurements=qr(t,a),s&&(c.domProcessing=s.domProcessing,c.duration=s.duration,c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c.receivedResponse=s.receivedResponse,c.sentRequest=s.sentRequest),c}return S(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(Vo)})),oa=m((()=>{N(),io(),Ho=function(e){function t(t,n){var r=e.call(this)||this;return r.aiDataContract={baseType:1,baseData:1},r.baseType=t,r.baseData=n,r}return S(t,e),t}(Xi)})),aa=m((()=>{var e;(e=jo||(jo={}))[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"})),sa=m((()=>{Pr(),zo=function(){function e(){}return e.getConfig=function(e,t,n,r){var i;return void 0===r&&(r=!1),i=n&&e.extensionConfig&&e.extensionConfig[n]&&!he(e.extensionConfig[n][t])?e.extensionConfig[n][t]:e[t],he(i)?r:i},e}()}));function ca(e){var t="ai."+e+".";return function(e){return t+e}}var ua,la,da,fa,pa,ga,ha,va,ma,ya,Ia,xa,Ca,wa,Ta,Sa,ba,Ea,ka,Aa=m((()=>{var e;N(),Pr(),ua=ca("application"),la=ca("device"),da=ca("location"),fa=ca("operation"),pa=ca("session"),ga=ca("user"),ha=ca("cloud"),va=ca("internal"),ma=function(e){function t(){return e.call(this)||this}return S(t,e),t}((e={applicationVersion:ua("ver"),applicationBuild:ua("build"),applicationTypeId:ua("typeId"),applicationId:ua("applicationId"),applicationLayer:ua("layer"),deviceId:la("id"),deviceIp:la("ip"),deviceLanguage:la("language"),deviceLocale:la("locale"),deviceModel:la("model"),deviceFriendlyName:la("friendlyName"),deviceNetwork:la("network"),deviceNetworkName:la("networkName"),deviceOEMName:la("oemName"),deviceOS:la("os"),deviceOSVersion:la("osVersion"),deviceRoleInstance:la("roleInstance"),deviceRoleName:la("roleName"),deviceScreenResolution:la("screenResolution"),deviceType:la("type"),deviceMachineName:la("machineName"),deviceVMName:la("vmName"),deviceBrowser:la("browser"),deviceBrowserVersion:la("browserVersion"),locationIp:da("ip"),locationCountry:da("country"),locationProvince:da("province"),locationCity:da("city"),operationId:fa("id"),operationName:fa("name"),operationParentId:fa("parentId"),operationRootId:fa("rootId"),operationSyntheticSource:fa("syntheticSource"),operationCorrelationVector:fa("correlationVector"),sessionId:pa("id"),sessionIsFirst:pa("isFirst"),sessionIsNew:pa("isNew"),userAccountAcquisitionDate:ga("accountAcquisitionDate"),userAccountId:ga("accountId"),userAgent:ga("userAgent"),userId:ga("id"),userStoreRegion:ga("storeRegion"),userAuthUserId:ga("authUserId"),userAnonymousUserAcquisitionDate:ga("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ga("authUserAcquisitionDate"),cloudName:ha("name"),cloudRole:ha("role"),cloudRoleVer:ha("roleVer"),cloudRoleInstance:ha("roleInstance"),cloudEnvironment:ha("environment"),cloudLocation:ha("location"),cloudDeploymentUnit:ha("deploymentUnit"),internalNodeName:va("nodeName"),internalSdkVersion:va("sdkVersion"),internalAgentVersion:va("agentVersion"),internalSnippet:va("snippet"),internalSdkSrc:va("sdkSrc")},function(){var t=this;e&&we(e,(function(e,n){t[e]=n}))}))})),Pa=m((()=>{jr(),Pr(),ai(),ya=function(){function e(){}return e.create=function(e,t,n,r,i,o){if(n=Dr(r,n)||ni,he(e)||he(t)||he(n))throw Error("Input doesn't contain all required fields");var a={name:n,time:Ne(new Date),iKey:"",ext:o||{},tags:[],data:{},baseType:t,baseData:e};return he(i)||we(i,(function(e,t){a.data[e]=t})),a},e}()})),Na=m((()=>{Aa(),Ia={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},xa=new ma})),_a=m((()=>{Hi(),no(),Nr(),ai(),io(),ro(),ao(),co(),Wo(),$o(),Yo(),Qo(),ea(),na(),ia(),oa(),aa(),sa(),Aa(),jr(),Pa(),Na(),si(),oi(),Wr(),Ti(),Di(),Ca="AppInsightsPropertiesPlugin",wa="AppInsightsChannelPlugin",Ta="ApplicationInsightsAnalytics"})),Ra=m((()=>{_a(),Pr(),le(),Sa=function e(t,n,r,i){se(e,this,(function(e){var o,a=null,s=[],c=!1;function u(){r&&_e(r.getTransmissionControls(),(function(e){_e(e,(function(e){return e.flush(!0)}))}))}r&&(o=r.logger),e.trackPageView=function(e,r){var l=e.name;if(he(l)||"string"!=typeof l){var d=at();l=e.name=d&&d.title||""}var f=e.uri;if(he(f)||"string"!=typeof f){var p=ct();f=e.uri=p&&p.href||""}if(!i.isPerformanceTimingSupported())return t.sendPageViewInternal(e,r),u(),void o.throwInternal(ce.WARNING,ue.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var g,h,v=!1,m=i.getPerformanceTiming().navigationStart;m>0&&(g=Fi(m,+new Date),i.shouldCollectDuration(g)||(g=void 0)),!he(r)&&!he(r.duration)&&(h=r.duration),(n||!isNaN(h))&&(isNaN(h)&&(r||(r={}),r.duration=g),t.sendPageViewInternal(e,r),u(),v=!0),r||(r={}),function(e){s.push(e),a||(a=setInterval((function(){var e=s.slice(0),t=!1;s=[],_e(e,(function(e){e()?t=!0:s.push(e)})),0===s.length&&(clearInterval(a),a=null),t&&u()}),100))}((function(){var n=!1;try{if(i.isPerformanceTimingDataReady()){n=!0;var a={name:l,uri:f};i.populatePageViewPerformanceEvent(a),a.isValid||v?(v||(r.duration=a.durationMs,t.sendPageViewInternal(e,r)),c||(t.sendPageViewPerformanceInternal(a,r),c=!0)):(r.duration=g,t.sendPageViewInternal(e,r))}else m>0&&Fi(m,+new Date)>6e4&&(n=!0,v||(r.duration=6e4,t.sendPageViewInternal(e,r)))}catch(e){o.throwInternal(ce.CRITICAL,ue.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+Oe(e),{exception:gt(e)})}return n}))}}))}})),Da=m((()=>{_a(),Pr(),ba=function(){function e(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}return e.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(e){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+gt(e))}},e.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(e){return this._logger.warnToConsole("Call to restart failed: "+gt(e)),null}},e.prototype.startPageVisitTimer=function(e,t){try{if(vi()){null!=yi(this._logger,this.prevPageVisitDataKeyName)&&ze("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new Ea(e,t),r=dt().stringify(n);Ii(this._logger,this.prevPageVisitDataKeyName,r)}}catch(e){this._logger.warnToConsole("Call to start failed: "+gt(e))}},e.prototype.stopPageVisitTimer=function(){try{if(vi()){var e=qe(),t=yi(this._logger,this.prevPageVisitDataKeyName);if(t&&lt()){var n=dt().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,xi(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(e){return this._logger.warnToConsole("Stop page visit timer failed: "+gt(e)),null}},e}(),Ea=function(e,t){this.pageVisitStartTime=qe(),this.pageName=e,this.pageUrl=t}})),La=m((()=>{_a(),Pr(),ka=function(){function e(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return e.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),r=0,i=0,o=0,a=0,s=0;(t||n)&&(t?(r=t.duration,i=0===t.startTime?t.connectEnd:Fi(t.startTime,t.connectEnd),o=Fi(t.requestStart,t.responseStart),a=Fi(t.responseStart,t.responseEnd),s=Fi(t.responseEnd,t.loadEventEnd)):(r=Fi(n.navigationStart,n.loadEventEnd),i=Fi(n.navigationStart,n.connectEnd),o=Fi(n.requestStart,n.responseStart),a=Fi(n.responseStart,n.responseEnd),s=Fi(n.responseEnd,n.loadEventEnd)),0===r?this._logger.throwInternal(ce.WARNING,ue.ErrorPVCalc,"error calculating page view performance.",{total:r,network:i,request:o,response:a,dom:s}):this.shouldCollectDuration(r,i,o,a,s)?r<Math.floor(i)+Math.floor(o)+Math.floor(a)+Math.floor(s)?this._logger.throwInternal(ce.WARNING,ue.ClientPerformanceMathError,"client performance math error.",{total:r,network:i,request:o,response:a,dom:s}):(e.durationMs=r,e.perfTotal=e.duration=Gr(r),e.networkConnect=Gr(i),e.sentRequest=Gr(o),e.receivedResponse=Gr(a),e.domProcessing=Gr(s),e.isValid=!0):this._logger.throwInternal(ce.WARNING,ue.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:o,response:a,dom:s}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?ut().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?ut().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var e=ut();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var e=ut();return e&&e.timing},e.prototype.isPerformanceTimingDataReady=function(){var e=ut(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t.navigationStart>0&&t.responseStart>0&&t.requestStart>0&&t.loadEventEnd>0&&t.responseEnd>0&&t.connectEnd>0&&t.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=st()||{},r=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=n.userAgent,o=!1;if(i)for(var a=0;a<r.length;a++)o=o||-1!==i.toLowerCase().indexOf(r[a]);if(o)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}()}));function Ma(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Fa,Ua,qa,Oa,Va,Ba,Ha=m((()=>{N(),_a(),Pr(),Ra(),Da(),La(),le(),Fa="duration",Ua="event",qa=function(e){function t(){var n,r,i,a,s,c=e.call(this)||this;return c.identifier=Ta,c.priority=180,c.autoRoutePVDelay=500,se(t,c,(function(e,u){var l=ct(!0);a=l&&l.href||"",e.getCookieMgr=function(){return dn(e.core)},e.processTelemetry=function(t,n){Ut(e.core,(function(){return e.identifier+":processTelemetry"}),(function(){var r=!1,i=e._telemetryInitializers.length;n=e._getTelCtx(n);for(var o=0;o<i;++o){var a=e._telemetryInitializers[o];if(a)try{if(!1===a.apply(null,[t])){r=!0;break}}catch(e){n.diagLog().throwInternal(ce.CRITICAL,ue.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Oe(e),{exception:gt(e)},!0)}}r||e.processNext(t,n)}),(function(){return{item:t}}),!t.sync)},e.trackEvent=function(t,n){try{var r=ya.create(t,Yi.dataType,Yi.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(ce.WARNING,ue.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Oe(t),{exception:gt(t)})}},e.startTrackEvent=function(t){try{n.start(t)}catch(t){e.diagLog().throwInternal(ce.CRITICAL,ue.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+Oe(t),{exception:gt(t)})}},e.stopTrackEvent=function(t,r,i){try{n.stop(t,void 0,r)}catch(t){e.diagLog().throwInternal(ce.CRITICAL,ue.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+Oe(t),{exception:gt(t)})}},e.trackTrace=function(t,n){try{var r=ya.create(t,Oo.dataType,Oo.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(ce.WARNING,ue.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Oe(t),{exception:gt(t)})}},e.trackMetric=function(t,n){try{var r=ya.create(t,Do.dataType,Do.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(ce.CRITICAL,ue.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+Oe(t),{exception:gt(t)})}},e.trackPageView=function(t,n){try{var r=t||{};e._pageViewManager.trackPageView(r,E({},r.properties,r.measurements,n)),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(r.name,r.uri)}catch(t){e.diagLog().throwInternal(ce.CRITICAL,ue.TrackPVFailed,"trackPageView failed, page view will not be collected: "+Oe(t),{exception:gt(t)})}},e.sendPageViewInternal=function(t,n,r){var i=at();i&&(t.refUri=void 0===t.refUri?i.referrer:t.refUri);var o=ya.create(t,Mo.dataType,Mo.envelopeType,e.diagLog(),n,r);e.core.track(o)},e.sendPageViewPerformanceInternal=function(t,n,r){var i=ya.create(t,Bo.dataType,Bo.envelopeType,e.diagLog(),n,r);e.core.track(i)},e.trackPageViewPerformance=function(t,n){try{e._pageViewPerformanceManager.populatePageViewPerformanceEvent(t),e.sendPageViewPerformanceInternal(t,n)}catch(t){e.diagLog().throwInternal(ce.CRITICAL,ue.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+Oe(t),{exception:gt(t)})}},e.startTrackPage=function(t){try{if("string"!=typeof t){var n=at();t=n&&n.title||""}r.start(t)}catch(t){e.diagLog().throwInternal(ce.CRITICAL,ue.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+Oe(t),{exception:gt(t)})}},e.stopTrackPage=function(t,n,i,o){try{if("string"!=typeof t){var a=at();t=a&&a.title||""}if("string"!=typeof n){var s=ct();n=s&&s.href||""}r.stop(t,n,i,o),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(t,n)}catch(t){e.diagLog().throwInternal(ce.CRITICAL,ue.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+Oe(t),{exception:gt(t)})}},e.sendExceptionInternal=function(t,n,r){var i=t.exception||t.error||new Error(ni),o=new Eo(e.diagLog(),i,t.properties||n,t.measurements,t.severityLevel,t.id).toInterface(),a=ya.create(o,Eo.dataType,Eo.envelopeType,e.diagLog(),n,r);e.core.track(a)},e.trackException=function(t,n){try{e.sendExceptionInternal(t,n)}catch(t){e.diagLog().throwInternal(ce.CRITICAL,ue.TrackExceptionFailed,"trackException failed, exception will not be collected: "+Oe(t),{exception:gt(t)})}},e._onerror=function(t){var n=t&&t.error,r=t&&t.evt;try{if(!r){var i=it();i&&(r=i[Ua])}var o=t&&t.url||(at()||{}).URL,a=t.errorSrc||"window.onerror@"+o+":"+(t.lineNumber||0)+":"+(t.columnNumber||0),s={errorSrc:a,url:o,lineNumber:t.lineNumber||0,columnNumber:t.columnNumber||0,message:t.message};$r(t.message,t.url,t.lineNumber,t.columnNumber,t.error)?function(t,n){var r=ya.create(t,Eo.dataType,Eo.envelopeType,e.diagLog(),n);e.core.track(r)}(Eo.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",o,t.lineNumber||0,t.columnNumber||0,n,r,null,a),s):(t.errorSrc||(t.errorSrc=a),e.trackException({exception:t,severityLevel:jo.Error},s))}catch(t){var c=n?n.name+", "+n.message:"null";e.diagLog().throwInternal(ce.CRITICAL,ue.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+Oe(t),{exception:gt(t),errorString:c})}},e.addTelemetryInitializer=function(t){e._telemetryInitializers.push(t)},e.initialize=function(l,d,f,p){if(!e.isInitialized()){if(he(d))throw Error("Error initializing");u.initialize(l,d,f,p),e.setInitialized(!1);var g=e._getTelCtx(),h=e.identifier;e.config=g.getExtCfg(h);var v=t.getDefaultConfig(l);void 0!==v&&we(v,(function(t,n){e.config[t]=g.getConfig(h,t,n),void 0===e.config[t]&&(e.config[t]=n)})),e.config.isStorageUseDisabled&&di();var m={instrumentationKey:function(){return l.instrumentationKey},accountId:function(){return e.config.accountId||l.accountId},sessionRenewalMs:function(){return e.config.sessionRenewalMs||l.sessionRenewalMs},sessionExpirationMs:function(){return e.config.sessionExpirationMs||l.sessionExpirationMs},sampleRate:function(){return e.config.samplingPercentage||l.samplingPercentage},sdkExtension:function(){return e.config.sdkExtension||l.sdkExtension},isBrowserLinkTrackingEnabled:function(){return e.config.isBrowserLinkTrackingEnabled||l.isBrowserLinkTrackingEnabled},appId:function(){return e.config.appId||l.appId}};e._pageViewPerformanceManager=new ka(e.core),e._pageViewManager=new Sa(c,e.config.overridePageViewDuration,e.core,e._pageViewPerformanceManager),e._pageVisitTimeManager=new ba(e.diagLog(),(function(t,n,r){return function(t,n,r){var i={PageName:t,PageUrl:n};e.trackMetric({name:"PageVisitTime",average:r,max:r,min:r,sampleCount:1},i)}(t,n,r)})),e._telemetryInitializers=e._telemetryInitializers||[],function(t){if(!t.isBrowserLinkTrackingEnabled()){var n=["/browserLinkSignalR/","/__browserLink/"];!function(t){e._telemetryInitializers.push(t)}((function(e){if(e.baseType===Uo.dataType){var t=e.baseData;if(t)for(var r=0;r<n.length;r++)if(t.target&&t.target.indexOf(n[r])>=0)return!1}return!0}))}}(m),(n=new Oa(e.diagLog(),"trackEvent")).action=function(t,n,r,i){i||(i={}),i[Fa]=r.toString(),e.trackEvent({name:t,properties:i})},(r=new Oa(e.diagLog(),"trackPageView")).action=function(t,n,r,i,o){he(i)&&(i={}),i[Fa]=r.toString();var a={name:t,uri:n,properties:i,measurements:o};e.sendPageViewInternal(a,i)};var y=it(),I=Boolean(typeof history===o&&history)?history:nt(yt),x=ct(!0),C=c;if(!1===e.config.disableExceptionTracking&&!e.config.autoExceptionInstrumented&&y){var w=y.onerror;y.onerror=function(e,t,n,r,i){var o=y[Ua],a=w&&w(e,t,n,r,i);return!0!==a&&C._onerror(Eo.CreateAutoException(e,t,n,r,i,o)),a},e.config.autoExceptionInstrumented=!0}if(!1===e.config.disableExceptionTracking&&!0===e.config.enableUnhandledPromiseRejectionTracking&&!e.config.autoUnhandledPromiseInstrumented&&y){var T="onunhandledrejection",S=y[T];y[T]=function(e){var t=y[Ua],n=S&&S.call(y,e);return!0!==n&&C._onerror(Eo.CreateAutoException(e.reason.toString(),x?x.href:"",0,0,e,t)),n},e.config.autoUnhandledPromiseInstrumented=!0}if(!0===e.config.enableAutoRouteTracking&&I&&Ie(I.pushState)&&Ie(I.replaceState)&&y&&"undefined"!=typeof Event){var b=c;_e(f,(function(e){e.identifier===Ca&&(i=e)})),I.pushState=(E=I.pushState,function(){var e=E.apply(this,arguments);return Ma(y,zr(b.config.namePrefix+"pushState")),Ma(y,zr(b.config.namePrefix+"locationchange")),e}),I.replaceState=function(e){return function(){var t=e.apply(this,arguments);return Ma(y,zr(b.config.namePrefix+"replaceState")),Ma(y,zr(b.config.namePrefix+"locationchange")),t}}(I.replaceState),y.addEventListener&&(y.addEventListener(b.config.namePrefix+"popstate",(function(){Ma(y,zr(b.config.namePrefix+"locationchange"))})),y.addEventListener(b.config.namePrefix+"locationchange",(function(){if(i&&i.context&&i.context.telemetryTrace){i.context.telemetryTrace.traceID=or();var e="_unknown_";x&&x.pathname&&(e=x.pathname+(x.hash||"")),i.context.telemetryTrace.name=e}s&&(a=s),s=x&&x.href||"",setTimeout(function(e){b.trackPageView({refUri:e,properties:{duration:0}})}.bind(c,a),b.autoRoutePVDelay)})))}e.setInitialized(!0)}var E}})),c}return S(t,e),t.getDefaultConfig=function(e){return e||(e={}),e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=Kr(e.disableExceptionTracking),e.autoTrackPageVisitTime=Kr(e.autoTrackPageVisitTime),e.overridePageViewDuration=Kr(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=Kr(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isStorageUseDisabled=Kr(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Kr(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=Kr(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=Kr(e.enableDebug),e.disableFlushOnBeforeUnload=Kr(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=Kr(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},t.Version="2.6.4",t}(Jt),Oa=function(e,t){var n=this,r={};n.start=function(t){void 0!==r[t]&&e.throwInternal(ce.WARNING,ue.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:t,key:t},!0),r[t]=+new Date},n.stop=function(t,i,o,a){var s=r[t];if(isNaN(s))e.throwInternal(ce.WARNING,ue.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:t,key:t},!0);else{var c=Fi(s,+new Date);n.action(t,i,c,o,a)}delete r[t],r[t]=void 0}}})),ja=m((()=>{Ha()})),za=m((()=>{_a(),Pr(),le(),Va=function e(t){var n=[];se(e,this,(function(e){e.enqueue=function(e){n.push(e)},e.count=function(){return n.length},e.clear=function(){n.length=0},e.getItems=function(){return n.slice(0)},e.batchPayloads=function(e){return e&&e.length>0?t.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},e.markAsSent=function(t){e.clear()},e.clearSent=function(e){}}))},Ba=function(){function e(t,n){var r,i=!1;se(e,this,(function(o){var a=u(e.BUFFER_KEY),s=u(e.SENT_BUFFER_KEY);function c(e,t){var n=[];return _e(t,(function(t){!Ie(t)&&-1===Re(e,t)&&n.push(t)})),n}function u(e){var r=e;try{r=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+r:r;var i=yi(t,r);if(i){var o=dt().parse(i);if(ke(o)&&(o=dt().parse(o)),o&&be(o))return o}}catch(e){t.throwInternal(ce.CRITICAL,ue.FailedToRestoreStorageBuffer," storage key: "+r+", "+Oe(e),{exception:gt(e)})}return[]}function l(e,r){var i=e;try{i=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+i:i;var o=JSON.stringify(r);Ii(t,i,o)}catch(e){Ii(t,i,JSON.stringify([])),t.throwInternal(ce.WARNING,ue.FailedToSetStorageBuffer," storage key: "+i+", "+Oe(e)+". Buffer cleared",{exception:gt(e)})}}(r=a.concat(s)).length>e.MAX_BUFFER_SIZE&&(r.length=e.MAX_BUFFER_SIZE),l(e.SENT_BUFFER_KEY,[]),l(e.BUFFER_KEY,r),o.enqueue=function(n){r.length>=e.MAX_BUFFER_SIZE?i||(t.throwInternal(ce.WARNING,ue.SessionStorageBufferFull,"Maximum buffer size reached: "+r.length,!0),i=!0):(r.push(n),l(e.BUFFER_KEY,r))},o.count=function(){return r.length},o.clear=function(){r=[],l(e.BUFFER_KEY,[]),l(e.SENT_BUFFER_KEY,[]),i=!1},o.getItems=function(){return r.slice(0)},o.batchPayloads=function(e){return e&&e.length>0?n.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},o.markAsSent=function(n){r=c(n,r),l(e.BUFFER_KEY,r);var i=u(e.SENT_BUFFER_KEY);i instanceof Array&&n instanceof Array&&((i=i.concat(n)).length>e.MAX_BUFFER_SIZE&&(t.throwInternal(ce.CRITICAL,ue.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+i.length,!0),i.length=e.MAX_BUFFER_SIZE),l(e.SENT_BUFFER_KEY,i))},o.clearSent=function(t){var n=u(e.SENT_BUFFER_KEY);n=c(t,n),l(e.SENT_BUFFER_KEY,n)}}))}return e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}()}));function Wa(e,t,n){return Ve(e,t,n,je)}var Ka,Ga,Xa,Ja,$a,Qa,Ya,Za,es,ts,ns,rs,is,os,as,ss,cs,us,ls=m((()=>{N(),_a(),Pr(),Ka="baseType",Ga="baseData",Xa="properties",Ja="true",$a=function(){function e(){}return e.extractPropsAndMeasurements=function(e,t,n){he(e)||we(e,(function(e,r){Ae(r)?n[e]=r:ke(r)?t[e]=r:lt()&&(t[e]=dt().stringify(r))}))},e.createEnvelope=function(t,n,r,i){var o=new $i(t,i,n);Wa(o,"sampleRate",r[Yr]),(r[Ga]||{}).startTime&&(o.time=Ne(r[Ga].startTime)),o.iKey=r.iKey;var a=r.iKey.replace(/-/g,"");return o.name=o.name.replace("{0}",a),e.extractPartAExtensions(r,o),r.tags=r.tags||[],Ke(o)},e.extractPartAExtensions=function(t,n){var r=n.tags=n.tags||{},i=t.ext=t.ext||{},o=t.tags=t.tags||[],a=i.user;a&&(Wa(r,xa.userAuthUserId,a.authId),Wa(r,xa.userId,a.id||a.localId));var s=i.app;s&&Wa(r,xa.sessionId,s.sesId);var c=i.device;c&&(Wa(r,xa.deviceId,c.id||c.localId),Wa(r,xa.deviceType,c.deviceClass),Wa(r,xa.deviceIp,c.ip),Wa(r,xa.deviceModel,c.model),Wa(r,xa.deviceType,c.deviceType));var u=t.ext.web;if(u){Wa(r,xa.deviceLanguage,u.browserLang),Wa(r,xa.deviceBrowserVersion,u.browserVer),Wa(r,xa.deviceBrowser,u.browser);var l=n.data=n.data||{},d=l[Ga]=l[Ga]||{},f=d[Xa]=d[Xa]||{};Wa(f,"domain",u.domain),Wa(f,"isManual",u.isManual?Ja:null),Wa(f,"screenRes",u.screenRes),Wa(f,"userConsent",u.userConsent?Ja:null)}var p=i.os;p&&Wa(r,xa.deviceOS,p.name);var g=i.trace;g&&(Wa(r,xa.operationParentId,g.parentID),Wa(r,xa.operationName,g.name),Wa(r,xa.operationId,g.traceID));for(var h={},v=o.length-1;v>=0;v--)we(o[v],(function(e,t){h[e]=t})),o.splice(v,1);we(o,(function(e,t){h[e]=t}));var m=E({},r,h);m[xa.internalSdkVersion]||(m[xa.internalSdkVersion]="javascript:"+e.Version),n.tags=Ke(m)},e.prototype.Init=function(e,t){this._logger=e,he(t[Ga])&&this._logger.throwInternal(ce.CRITICAL,ue.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},e.Version="2.6.4",e}(),Qa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[Ga].measurements||{},i=n[Ga][Xa]||{};$a.extractPropsAndMeasurements(n.data,i,r);var o=n[Ga];if(he(o))return t.warnToConsole("Invalid input for dependency data"),null;var a=o[Xa]&&o[Xa][ei]?o[Xa][ei]:"GET",s=new Uo(t,o.id,o.target,o.name,o.duration,o.success,o.responseCode,a,o.type,o.correlationContext,i,r),c=new Ho(Uo.dataType,s);return $a.createEnvelope(t,Uo.envelopeType,n,c)},t.DependencyEnvelopeCreator=new t,t}($a),Ya=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r={},i={};n[Ka]!==Yi.dataType&&(r.baseTypeSource=n[Ka]),n[Ka]===Yi.dataType?(r=n[Ga][Xa]||{},i=n[Ga].measurements||{}):n[Ga]&&$a.extractPropsAndMeasurements(n[Ga],r,i),$a.extractPropsAndMeasurements(n.data,r,i);var o=n[Ga].name,a=new Yi(t,o,r,i),s=new Ho(Yi.dataType,a);return $a.createEnvelope(t,Yi.envelopeType,n,s)},t.EventEnvelopeCreator=new t,t}($a),Za=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[Ga].measurements||{},i=n[Ga][Xa]||{};$a.extractPropsAndMeasurements(n.data,i,r);var o=n[Ga],a=Eo.CreateFromInterface(t,o,i,r),s=new Ho(Eo.dataType,a);return $a.createEnvelope(t,Eo.envelopeType,n,s)},t.ExceptionEnvelopeCreator=new t,t}($a),es=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[Ga],i=r[Xa]||{},o=r.measurements||{};$a.extractPropsAndMeasurements(n.data,i,o);var a=new Do(t,r.name,r.average,r.sampleCount,r.min,r.max,i,o),s=new Ho(Do.dataType,a);return $a.createEnvelope(t,Do.envelopeType,n,s)},t.MetricEnvelopeCreator=new t,t}($a),ts=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r,i="duration",o=n[Ga];he(o)||he(o[Xa])||he(o[Xa][i])?!he(n.data)&&!he(n.data[i])&&(r=n.data[i],delete n.data[i]):(r=o[Xa][i],delete o[Xa][i]);var a,s=n[Ga];((n.ext||{}).trace||{}).traceID&&(a=n.ext.trace.traceID);var c=s.id||a,u=s.name,l=s.uri,d=s[Xa]||{},f=s.measurements||{};he(s.refUri)||(d.refUri=s.refUri),he(s.pageType)||(d.pageType=s.pageType),he(s.isLoggedIn)||(d.isLoggedIn=s.isLoggedIn.toString()),he(s[Xa])||we(s[Xa],(function(e,t){d[e]=t})),$a.extractPropsAndMeasurements(n.data,d,f);var p=new Mo(t,u,l,r,d,f,c),g=new Ho(Mo.dataType,p);return $a.createEnvelope(t,Mo.envelopeType,n,g)},t.PageViewEnvelopeCreator=new t,t}($a),ns=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[Ga],i=r.name,o=r.uri||r.url,a=r[Xa]||{},s=r.measurements||{};$a.extractPropsAndMeasurements(n.data,a,s);var c=new Bo(t,i,o,void 0,a,s,r),u=new Ho(Bo.dataType,c);return $a.createEnvelope(t,Bo.envelopeType,n,u)},t.PageViewPerformanceEnvelopeCreator=new t,t}($a),rs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[Ga].message,i=n[Ga].severityLevel,o=n[Ga][Xa]||{},a=n[Ga].measurements||{};$a.extractPropsAndMeasurements(n.data,o,a);var s=new Oo(t,r,i,o,a),c=new Ho(Oo.dataType,s);return $a.createEnvelope(t,Oo.envelopeType,n,c)},t.TraceEnvelopeCreator=new t,t}($a)})),ds=m((()=>{Pr(),le(),is=function e(t){se(e,this,(function(e){function n(e,o){var a="__aiCircularRefCheck",s={};if(!e)return t.throwInternal(ce.CRITICAL,ue.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:o},!0),s;if(e[a])return t.throwInternal(ce.WARNING,ue.CircularReferenceDetected,"Circular reference detected while serializing object",{name:o},!0),s;if(!e.aiDataContract){if("measurements"===o)s=i(e,"number",o);else if("properties"===o)s=i(e,"string",o);else if("tags"===o)s=i(e,"string",o);else if(be(e))s=r(e,o);else{t.throwInternal(ce.WARNING,ue.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:o},!0);try{dt().stringify(e),s=e}catch(e){t.throwInternal(ce.CRITICAL,ue.CannotSerializeObject,e&&Ie(e.toString)?e.toString():"Error serializing object",null,!0)}}return s}return e[a]=!0,we(e.aiDataContract,(function(i,a){var c=Ie(a)?1&a():1&a,u=Ie(a)?4&a():4&a,l=2&a,d=void 0!==e[i],f=ye(e[i])&&null!==e[i];if(!c||d||l){if(!u){var p;void 0!==(p=f?l?r(e[i],i):n(e[i],i):e[i])&&(s[i]=p)}}else t.throwInternal(ce.CRITICAL,ue.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:i,name:o})})),delete e[a],s}function r(e,r){var i;if(e)if(be(e)){i=[];for(var o=0;o<e.length;o++){var a=n(e[o],r+"["+o+"]");i.push(a)}}else t.throwInternal(ce.CRITICAL,ue.ItemNotInArray,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:r},!0);return i}function i(e,n,r){var i;return e&&(i={},we(e,(function(e,o){if("string"===n)void 0===o?i[e]="undefined":null===o?i[e]="null":o.toString?i[e]=o.toString():i[e]="invalid field: toString() is not defined.";else if("number"===n)if(void 0===o)i[e]="undefined";else if(null===o)i[e]="null";else{var a=parseFloat(o);isNaN(a)?i[e]="NaN":i[e]=a}else i[e]="invalid field: "+r+" is of unknown type.",t.throwInternal(ce.CRITICAL,i[e],null,!0)}))),i}e.serialize=function(e){var r=n(e,"root");try{return dt().stringify(r)}catch(e){t.throwInternal(ce.CRITICAL,ue.CannotSerializeObject,e&&Ie(e.toString)?e.toString():"Error serializing object",null,!0)}}}))}})),fs=m((()=>{Pr(),le(),os=function(){function e(){var t=it(),n=at(),r=!1,i=!0;se(e,this,(function(e){try{if(t&&vr.Attach(t,"online",s)&&(vr.Attach(t,"offline",c),r=!0),n){var o=n.body||n;ge(o.ononline)||(o.ononline=s,o.onoffline=c,r=!0)}if(r){var a=st();a&&!he(a.onLine)&&(i=a.onLine)}}catch(e){r=!1}function s(){i=!0}function c(){i=!1}e.isListening=r,e.isOnline=function(){var e=!0,t=st();return r?e=i:t&&!he(t.onLine)&&(e=t.onLine),e},e.isOffline=function(){return!e.isOnline()}}))}return e.Offline=new e,e}(),as=os.Offline})),ps=m((()=>{ss=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(t){if(""===t)return 0;for(;t.length<e.MIN_INPUT_LENGTH;)t=t.concat(t);for(var n=5381,r=0;r<t.length;++r)n=(n<<5)+n+t.charCodeAt(r),n&=n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e.MIN_INPUT_LENGTH=8,e}()})),gs=m((()=>{ps(),_a(),cs=function(){function e(){this.hashCodeGeneragor=new ss,this.keys=new ma}return e.prototype.getSamplingScore=function(e){return e.tags&&e.tags[this.keys.userId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):100*Math.random()},e}()})),hs=m((()=>{gs(),_a(),Pr(),us=function(){function e(e,t){this.INT_MAX_VALUE=2147483647,this._logger=t||Dt(null),(e>100||e<0)&&(this._logger.throwInternal(ce.WARNING,ue.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new cs}return e.prototype.isSampledIn=function(e){var t=this.sampleRate;return null==t||t>=100||e.baseType===Do.dataType||this.samplingScoreGenerator.getSamplingScore(e)<t},e}()}));function vs(e){try{return e.responseText}catch(e){}return null}var ms,ys,Is,xs,Cs,ws,Ts=m((()=>{N(),za(),ls(),ds(),_a(),Pr(),fs(),hs(),le(),ms=function(e){function t(){var n=e.call(this)||this;n.priority=1001,n.identifier=wa,n._XMLHttpRequestSupported=!1;var r,i,o,s,c,u={};return se(t,n,(function(e,l){function d(){ze("Method not implemented.")}function f(t,n,i,o,a,s){var c=null;if(e._appId||(c=m(s))&&c.appId&&(e._appId=c.appId),(t<200||t>=300)&&0!==t){if((301===t||307===t||308===t)&&!p(i))return void e._onError(n,a);!e._senderConfig.isRetryDisabled()&&x(t)?(y(n),e.diagLog().throwInternal(ce.WARNING,ue.TransmissionFailed,". Response code "+t+". Will retry to send "+n.length+" items.")):e._onError(n,a)}else as.isOffline()?e._senderConfig.isRetryDisabled()||(y(n,10),e.diagLog().throwInternal(ce.WARNING,ue.TransmissionFailed,". Offline - Response Code: "+t+". Offline status: "+as.isOffline()+". Will retry to send "+n.length+" items.")):(p(i),206===t?(c||(c=m(s)),c&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(n,c):e._onError(n,a)):(r=0,e._onSuccess(n,o)))}function p(t){return!(c>=10||he(t)||""===t||t===e._senderConfig.endpointUrl()||(e._senderConfig.endpointUrl=function(){return t},++c,0))}function g(t,n){var r=e._senderConfig.endpointUrl(),i=e._buffer.batchPayloads(t),o=new Blob([i],{type:"text/plain;charset=UTF-8"});st().sendBeacon(r,o)?(e._buffer.markAsSent(t),e._onSuccess(t,t.length)):(h(t,!0),e.diagLog().throwInternal(ce.WARNING,ue.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}function h(t,n){var r=new XMLHttpRequest,i=e._senderConfig.endpointUrl();try{r[Qr]=!0}catch(e){}r.open("POST",i,n),r.setRequestHeader("Content-type","application/json"),Li(i)&&r.setRequestHeader(kr.sdkContextHeader,kr.sdkContextHeaderAppIdRequest),_e(Fe(u),(function(e){r.setRequestHeader(e,u[e])})),r.onreadystatechange=function(){return e._xhrReadyStateChange(r,t,t.length)},r.onerror=function(n){return e._onError(t,C(r),n)};var o=e._buffer.batchPayloads(t);r.send(o),e._buffer.markAsSent(t)}function v(t,n){var r=e._senderConfig.endpointUrl(),i=e._buffer.batchPayloads(t),o=new Blob([i],{type:"text/plain;charset=UTF-8"}),a=new Headers;Li(r)&&a.append(kr.sdkContextHeader,kr.sdkContextHeaderAppIdRequest),_e(Fe(u),(function(e){a.append(e,u[e])}));var s=new Request(r,{method:"POST",headers:a,body:o});fetch(s).then((function(n){if(!n.ok)throw Error(n.statusText);n.text().then((function(e){f(n.status,t,n.url,t.length,n.statusText,e)})),e._buffer.markAsSent(t)})).catch((function(n){e._onError(t,n.message)}))}function m(t){try{if(t&&""!==t){var n=dt().parse(t);if(n&&n.itemsReceived&&n.itemsReceived>=n.itemsAccepted&&n.itemsReceived-n.itemsAccepted===n.errors.length)return n}}catch(n){e.diagLog().throwInternal(ce.CRITICAL,ue.InvalidBackendResponse,"Cannot parse the response. "+Oe(n),{response:t})}return null}function y(t,n){if(void 0===n&&(n=1),t&&0!==t.length){e._buffer.clearSent(t),r++;for(var o=0,a=t;o<a.length;o++){var s=a[o];e._buffer.enqueue(s)}(function(e){var t;if(r<=1)t=10;else{var n=(Math.pow(2,r)-1)/2,o=Math.floor(Math.random()*n*10)+1;o*=e,t=Math.max(Math.min(o,3600),10)}var a=qe()+1e3*t;i=a})(n),I()}}function I(){if(!o){var t=i?Math.max(0,i-qe()):0,n=Math.max(e._senderConfig.maxBatchInterval(),t);o=setTimeout((function(){e.triggerSend(!0,null,1)}),n)}}function x(e){return 408===e||429===e||500===e||503===e}function C(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+vs(e)||0:t}function w(t,n){var r=it(),i=new XDomainRequest;i.onload=function(){return e._xdrOnLoad(i,t)},i.onerror=function(n){return e._onError(t,T(i),n)};var o=r&&r.location&&r.location.protocol||"";if(0!==e._senderConfig.endpointUrl().lastIndexOf(o,0))return e.diagLog().throwInternal(ce.WARNING,ue.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void e._buffer.clear();var a=e._senderConfig.endpointUrl().replace(/^(https?:)/,"");i.open("POST",a);var s=e._buffer.batchPayloads(t);i.send(s),e._buffer.markAsSent(t)}function T(e,t){return e?"XDomainRequest,Response:"+vs(e)||0:t}e.pause=d,e.resume=d,e.flush=function(){try{e.triggerSend(!0,null,1)}catch(t){e.diagLog().throwInternal(ce.CRITICAL,ue.FlushFailed,"flush failed, telemetry will not be collected: "+Oe(t),{exception:gt(t)})}},e.onunloadFlush=function(){if(!1!==e._senderConfig.onunloadDisableBeacon()&&!1!==e._senderConfig.isBeaconApiDisabled()||!Xr())e.flush();else try{e.triggerSend(!0,g,2)}catch(t){e.diagLog().throwInternal(ce.CRITICAL,ue.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Oe(t),{exception:gt(t)})}},e.teardown=d,e.addHeader=function(e,t){u[e]=t},e.initialize=function(o,u,d,f){l.initialize(o,u,d,f);var p=e._getTelCtx(),m=e.identifier;s=new is(u.logger),r=0,i=null,e._sender=null,c=0;var y=t._getDefaultAppInsightsChannelConfig();if(e._senderConfig=t._getEmptyAppInsightsChannelConfig(),we(y,(function(t,n){e._senderConfig[t]=function(){return p.getConfig(m,t,n())}})),e._buffer=e._senderConfig.enableSessionStorageBuffer()&&vi()?new Ba(e.diagLog(),e._senderConfig):new Va(e._senderConfig),e._sample=new us(e._senderConfig.samplingPercentage(),e.diagLog()),function(e){return!(he(e.disableInstrumentationKeyValidation)||!e.disableInstrumentationKeyValidation)||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e.instrumentationKey)}(o)||e.diagLog().throwInternal(ce.CRITICAL,ue.InvalidInstrumentationKey,"Invalid Instrumentation key "+o.instrumentationKey),!Li(e._senderConfig.endpointUrl())&&e._senderConfig.customHeaders()&&e._senderConfig.customHeaders().length>0&&_e(e._senderConfig.customHeaders(),(function(e){n.addHeader(e.header,e.value)})),!e._senderConfig.isBeaconApiDisabled()&&Xr())e._sender=g;else{var I=nt("XMLHttpRequest");I?"withCredentials"in new I?(e._sender=h,e._XMLHttpRequestSupported=!0):typeof XDomainRequest!==a&&(e._sender=w):nt("fetch")&&(e._sender=v)}},e.processTelemetry=function(n,r){r=e._getTelCtx(r);try{if(e._senderConfig.disableTelemetry())return;if(!n)return void r.diagLog().throwInternal(ce.CRITICAL,ue.CannotSendEmptyTelemetry,"Cannot send empty telemetry");if(n.baseData&&!n.baseType)return void r.diagLog().throwInternal(ce.CRITICAL,ue.InvalidEvent,"Cannot send telemetry without baseData and baseType");if(n.baseType||(n.baseType="EventData"),!e._sender)return void r.diagLog().throwInternal(ce.CRITICAL,ue.SenderNotInitialized,"Sender was not initialized");if(!function(t){return e._sample.isSampledIn(t)}(n))return void r.diagLog().throwInternal(ce.WARNING,ue.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:e._sample.sampleRate});n[Yr]=e._sample.sampleRate;var i=t.constructEnvelope(n,e._senderConfig.instrumentationKey(),r.diagLog());if(!i)return void r.diagLog().throwInternal(ce.CRITICAL,ue.CreateEnvelopeError,"Unable to create an AppInsights envelope");var o=!1;if(n.tags&&n.tags[Zr]&&(_e(n.tags[Zr],(function(e){try{e&&!1===e(i)&&(o=!0,r.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(e){r.diagLog().throwInternal(ce.CRITICAL,ue.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Oe(e),{exception:gt(e)},!0)}})),delete n.tags[Zr]),o)return;var a=s.serialize(i),c=e._buffer.getItems(),u=e._buffer.batchPayloads(c);u&&u.length+a.length>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),e._buffer.enqueue(a),I()}catch(e){r.diagLog().throwInternal(ce.WARNING,ue.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Oe(e),{exception:gt(e)})}e.processNext(n,r)},e._xhrReadyStateChange=function(e,t,n){4===e.readyState&&f(e.status,t,e.responseURL,n,C(e),vs(e)||e.response)},e.triggerSend=function(t,r,a){void 0===t&&(t=!0);try{if(e._senderConfig.disableTelemetry())e._buffer.clear();else{if(e._buffer.count()>0){var s=e._buffer.getItems();(function(t,n){var r=function(){var t="getNotifyMgr";return e.core[t]?e.core[t]():e.core._notificationManager}();if(r&&r.eventsSendRequest)try{r.eventsSendRequest(t,n)}catch(t){e.diagLog().throwInternal(ce.CRITICAL,ue.NotificationException,"send request notification failed: "+Oe(t),{exception:gt(t)})}})(a||0,t),r?r.call(n,s,t):e._sender(s,t)}new Date}clearTimeout(o),o=null,i=null}catch(t){var c=pt();(!c||c>9)&&e.diagLog().throwInternal(ce.CRITICAL,ue.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+Oe(t),{exception:gt(t)})}},e._onError=function(t,n,r){e.diagLog().throwInternal(ce.WARNING,ue.OnError,"Failed to send telemetry.",{message:n}),e._buffer.clearSent(t)},e._onPartialSuccess=function(t,n){for(var r=[],i=[],o=0,a=n.errors.reverse();o<a.length;o++){var s=a[o],c=t.splice(s.index,1)[0];x(s.statusCode)?i.push(c):r.push(c)}t.length>0&&e._onSuccess(t,n.itemsAccepted),r.length>0&&e._onError(r,C(null,["partial success",n.itemsAccepted,"of",n.itemsReceived].join(" "))),i.length>0&&(y(i),e.diagLog().throwInternal(ce.WARNING,ue.TransmissionFailed,"Partial success. Delivered: "+t.length+", Failed: "+r.length+". Will retry to send "+i.length+" our of "+n.itemsReceived+" items"))},e._onSuccess=function(t,n){e._buffer.clearSent(t)},e._xdrOnLoad=function(t,n){var i=vs(t);if(!t||i+""!="200"&&""!==i){var o=m(i);o&&o.itemsReceived&&o.itemsReceived>o.itemsAccepted&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(n,o):e._onError(n,T(t))}else r=0,e._onSuccess(n,0)}})),n}return S(t,e),t.constructEnvelope=function(e,t,n){var r;switch((r=t===e.iKey||he(t)?e:E({},e,{iKey:t})).baseType){case Yi.dataType:return Ya.EventEnvelopeCreator.Create(n,r);case Oo.dataType:return rs.TraceEnvelopeCreator.Create(n,r);case Mo.dataType:return ts.PageViewEnvelopeCreator.Create(n,r);case Bo.dataType:return ns.PageViewPerformanceEnvelopeCreator.Create(n,r);case Eo.dataType:return Za.ExceptionEnvelopeCreator.Create(n,r);case Do.dataType:return es.MetricEnvelopeCreator.Create(n,r);case Uo.dataType:return Qa.DependencyEnvelopeCreator.Create(n,r);default:return Ya.EventEnvelopeCreator.Create(n,r)}},t._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},t._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},t}(Jt)})),Ss=m((()=>{Ts()})),bs=m((()=>{le(),_a(),Pr(),ys=function(){},Is=function(){function e(t,n){var r,i,o=Dt(n),a=dn(n);se(e,this,(function(n){t||(t={}),Ie(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),Ie(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),n.config=t;var s=n.config.sessionCookiePostfix&&n.config.sessionCookiePostfix()?n.config.sessionCookiePostfix():n.config.namePrefix&&n.config.namePrefix()?n.config.namePrefix():"";function c(e,t){var n=!1,r=", session will be reset",i=t.split("|");if(i.length>=2)try{var a=+i[1]||0,s=+i[2]||0;isNaN(a)||a<=0?o.throwInternal(ce.WARNING,ue.SessionRenewalDateIsZero,"AI session acquisition date is 0"+r):isNaN(s)||s<=0?o.throwInternal(ce.WARNING,ue.SessionRenewalDateIsZero,"AI session renewal date is 0"+r):i[0]&&(e.id=i[0],e.acquisitionDate=a,e.renewalDate=s,n=!0)}catch(e){o.throwInternal(ce.CRITICAL,ue.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(t||"")+"]"+r+" - "+Oe(e),{exception:gt(e)})}return n}function u(e,t){var o=e.acquisitionDate;e.renewalDate=t;var s,c=n.config,u=c.sessionRenewalMs(),l=o+c.sessionExpirationMs()-t,d=[e.id,o,t];s=l<u?l/1e3:u/1e3;var f=c.cookieDomain?c.cookieDomain():null;a.set(r(),d.join("|"),c.sessionExpirationMs()>0?s:null,f),i=t}r=function(){return"ai_session"+s},n.automaticSession=new ys,n.update=function(){var t=qe(),s=!1,l=n.automaticSession;l.id||(s=!function(e,t){var n=!1,i=a.get(r());if(i&&Ie(i.split))n=c(e,i);else{var s=pi(o,r());s&&(n=c(e,s))}return n||!!e.id}(l));var d=n.config.sessionExpirationMs();if(!s&&d>0){var f=n.config.sessionRenewalMs(),p=t-l.acquisitionDate,g=t-l.renewalDate;s=(s=(s=p<0||g<0)||p>d)||g>f}s?function(e){var t=n.config||{},r=(t.getNewId?t.getNewId():null)||ir;n.automaticSession.id=r(t.idLength?t.idLength():22),n.automaticSession.acquisitionDate=e,u(n.automaticSession,e),fi()||o.throwInternal(ce.WARNING,ue.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}(t):(!i||t-i>e.cookieUpdateInterval)&&u(l,t)},n.backup=function(){var e=n.automaticSession;!function(e,t,n){gi(o,r(),[e,t,n].join("|"))}(e.id,e.acquisitionDate,e.renewalDate)}}))}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}()})),Es=m((()=>{xs=function(){}})),ks=m((()=>{Cs=function(){this.id="browser",this.deviceClass="Browser"}})),As=m((()=>{ws=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:2.6.4"}}));function Ps(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var Ns,_s,Rs,Ds=m((()=>{le(),_a(),Pr(),Ns=function(){function e(t,n){this.isNewUser=!1;var r,i=Dt(n),o=dn(n);se(e,this,(function(n){n.config=t;var a=n.config.userCookiePostfix&&n.config.userCookiePostfix()?n.config.userCookiePostfix():"";r=function(){return e.userCookieName+a};var s=o.get(r());if(s){n.isNewUser=!1;var c=s.split(e.cookieSeparator);c.length>0&&(n.id=c[0])}if(!n.id){var u=t||{},l=(u.getNewId?u.getNewId():null)||ir;n.id=l(u.idLength?t.idLength():22);var d=Ne(new Date);n.accountAcquisitionDate=d,n.isNewUser=!0;var f=[n.id,d];o.set(r(),f.join(e.cookieSeparator),31536e3);var p=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";hi(i,p)}n.accountId=t.accountId?t.accountId():void 0;var g=o.get(e.authUserCookieName);if(g){var h=(g=decodeURI(g)).split(e.cookieSeparator);h[0]&&(n.authenticatedId=h[0]),h.length>1&&h[1]&&(n.accountId=h[1])}n.setAuthenticatedUserContext=function(t,r,a){if(void 0===a&&(a=!1),!Ps(t)||r&&!Ps(r))i.throwInternal(ce.WARNING,ue.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{n.authenticatedId=t;var s=n.authenticatedId;r&&(n.accountId=r,s=[n.authenticatedId,n.accountId].join(e.cookieSeparator)),a&&o.set(e.authUserCookieName,encodeURI(s))}},n.clearAuthenticatedUserContext=function(){n.authenticatedId=null,n.accountId=null,o.del(e.authUserCookieName)}}))}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}()})),Ls=m((()=>{_s=function(){}})),Ms=m((()=>{_a(),Pr(),Rs=function(e,t,n,r){var i=this;i.traceID=e||or(),i.parentID=t,i.name=n;var o=ct();!n&&o&&o.pathname&&(i.name=o.pathname),i.name=Dr(r,i.name)}}));function Fs(e,t){e&&e[t]&&0===Fe(e[t]).length&&delete e[t]}var Us,qs,Os,Vs,Bs,Hs=m((()=>{le(),Pr(),bs(),_a(),Es(),ks(),As(),Ds(),Ls(),Ms(),Us="ext",qs="tags",Os=function e(t,n){var r=this,i=t.logger;this.appId=function(){return null},se(e,this,(function(e){e.application=new xs,e.internal=new ws(n),rt()&&(e.sessionManager=new Is(n,t),e.device=new Cs,e.location=new _s,e.user=new Ns(n,t),e.telemetryTrace=new Rs(void 0,void 0,void 0,i),e.session=new ys),e.applySessionContext=function(t,n){var r=e.session,i=e.sessionManager;r&&ke(r.id)?Ve(Be(t.ext,Ia.AppExt),"sesId",r.id):i&&i.automaticSession&&Ve(Be(t.ext,Ia.AppExt),"sesId",i.automaticSession.id,ke)},e.applyOperatingSystemContxt=function(t,n){Ve(t.ext,Ia.OSExt,e.os)},e.applyApplicationContext=function(t,n){var r=e.application;if(r){var i=Be(t,qs);Ve(i,xa.applicationVersion,r.ver,ke),Ve(i,xa.applicationBuild,r.build,ke)}},e.applyDeviceContext=function(t,n){var r=e.device;if(r){var i=Be(Be(t,Us),Ia.DeviceExt);Ve(i,"localId",r.id,ke),Ve(i,"ip",r.ip,ke),Ve(i,"model",r.model,ke),Ve(i,"deviceClass",r.deviceClass,ke)}},e.applyInternalContext=function(t,n){var r=e.internal;if(r){var i=Be(t,qs);Ve(i,xa.internalAgentVersion,r.agentVersion,ke),Ve(i,xa.internalSdkVersion,r.sdkVersion,ke),(t.baseType===Lt.dataType||t.baseType===Mo.dataType)&&(Ve(i,xa.internalSnippet,r.snippetVer,ke),Ve(i,xa.internalSdkSrc,r.sdkSrc,ke))}},e.applyLocationContext=function(e,t){var n=r.location;n&&Ve(Be(e,qs,[]),xa.locationIp,n.ip,ke)},e.applyOperationContext=function(t,n){var r=e.telemetryTrace;if(r){var i=Be(Be(t,Us),Ia.TraceExt,{traceID:void 0,parentID:void 0});Ve(i,"traceID",r.traceID,ke),Ve(i,"name",r.name,ke),Ve(i,"parentID",r.parentID,ke)}},e.applyWebContext=function(e,t){var n=r.web;n&&Ve(Be(e,Us),Ia.WebExt,n)},e.applyUserContext=function(t,n){var r=e.user;if(r){Ve(Be(t,qs,[]),xa.userAccountId,r.accountId,ke);var i=Be(Be(t,Us),Ia.UserExt);Ve(i,"id",r.id,ke),Ve(i,"authId",r.authenticatedId,ke)}},e.cleanUp=function(e,t){var n=e.ext;n&&(Fs(n,Ia.DeviceExt),Fs(n,Ia.UserExt),Fs(n,Ia.WebExt),Fs(n,Ia.OSExt),Fs(n,Ia.AppExt),Fs(n,Ia.TraceExt))}}))}})),js=m((()=>{N(),le(),Pr(),Hs(),_a(),Vs=function(e){function t(){var n,r,i=e.call(this)||this;return i.priority=110,i.identifier=Ca,se(t,i,(function(e,i){e.initialize=function(o,a,s,c){i.initialize(o,a,s,c);var u=e._getTelCtx(),l=e.identifier,d=t.getDefaultConfig();r=r||{},we(d,(function(e,t){r[e]=function(){return u.getConfig(l,e,t())}})),e.context=new Os(a,r),n=Jr(s,wa),e.context.appId=function(){return n?n._appId:null},e._extConfig=r},e.processTelemetry=function(t,n){if(!he(t)){n=e._getTelCtx(n),t.name===Mo.envelopeType&&n.diagLog().resetInternalMessageCount();var r=e.context||{};if(r.session&&"string"!=typeof e.context.session.id&&r.sessionManager&&r.sessionManager.update(),function(t,n){Be(t,"tags",[]),Be(t,"ext",{});var r=e.context;r.applySessionContext(t,n),r.applyApplicationContext(t,n),r.applyDeviceContext(t,n),r.applyOperationContext(t,n),r.applyUserContext(t,n),r.applyOperatingSystemContxt(t,n),r.applyWebContext(t,n),r.applyLocationContext(t,n),r.applyInternalContext(t,n),r.cleanUp(t,n)}(t,n),r.user&&r.user.isNewUser){r.user.isNewUser=!1;var i=new Lt(ue.SendBrowserInfoOnUserInit,(st()||{}).userAgent||"");n.diagLog().logInternalMessage(ce.CRITICAL,i)}e.processNext(t,n)}}})),i}return S(t,e),t.getDefaultConfig=function(){return{instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}}},t}(Jt),Bs=Vs})),zs=m((()=>{js()}));function Ws(e,t,n){var r=0,i=e[t],o=e[n];return i&&o&&(r=Fi(i,o)),r}function Ks(e,t,n,r,i){var o=0,a=Ws(n,r,i);return a&&(o=Gs(e,t,Gr(a))),o}function Gs(e,t,n){var r="ajaxPerf",i=0;return e&&t&&n&&((e[r]=e[r]||{})[t]=n,i=1),i}var Xs,Js,$s,Qs,Ys=m((()=>{_a(),Pr(),le(),Xs="properties",Js=function(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1},$s=function e(t,n,r){var i=this,o=r,a="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new Js,i.clientFailure=0,i.traceID=t,i.spanID=n,se(e,i,(function(e){e.getAbsoluteUrl=function(){return e.requestUrl?bi(e.requestUrl):null},e.getPathName=function(){return e.requestUrl?Lr(o,ki(e.method,e.requestUrl)):null},e.CreateTrackItem=function(t,n,r){if(e.ajaxTotalDuration=Math.round(1e3*Fi(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var i,o=((i={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:t,startTime:null,duration:e.ajaxTotalDuration,success:+e.status>=200&&+e.status<400,responseCode:+e.status,method:e.method})[Xs]={HttpMethod:e.method},i);if(e.requestSentTime&&(o.startTime=new Date,o.startTime.setTime(e.requestSentTime)),function(e,t){var n=e.perfTiming,r=t[Xs]||{},i=0,o="name",a="Start",s="End",c="connect",u="redirect",l="request",d="response",f="duration",p="startTime",g=c+s,h=l+a,v=d+s,m=u+a,y=u=s,I="transferSize",x="encodedBodySize",C="decodedBodySize",w="serverTiming";if(n){i|=Ks(r,u,n,m,y),i|=Ks(r,"domainLookup",n,"domainLookupStart","domainLookupEnd"),i|=Ks(r,c,n,"connectStart",g),i|=Ks(r,l,n,h,"requestEnd"),i|=Ks(r,d,n,"responseStart",v),i|=Ks(r,"networkConnect",n,p,g),i|=Ks(r,"sentRequest",n,h,v);var T=n[f];T||(T=Ws(n,p,v)||0),i|=Gs(r,f,T),i|=Gs(r,"perfTotal",T);var S=n[w];if(S){var b={};_e(S,(function(e,t){var n=function(e){var t=e,n=/([^\w\d_$])/g;return n.test(e)&&(t=e.replace(n,"_")),t}(e[o]||""+t),r=b[n]||{};we(e,(function(e,t){(e!==o&&ke(t)||Ae(t))&&(r[e]&&(t=r[e]+";"+t),(t||!ke(t))&&(r[e]=t))})),b[n]=r})),i|=Gs(r,w,b)}i|=Gs(r,I,n[I]),i|=Gs(r,x,n[x]),i|=Gs(r,C,n[C])}else e.perfMark&&(i|=Gs(r,"missing",e.perfAttempts));i&&(t[Xs]=r)}(e,o),n&&Fe(e.requestHeaders).length>0&&(o[Xs]=o[Xs]||{},o[Xs].requestHeaders=e.requestHeaders),r){var s=r();if(s){var c=s.correlationContext;if(c&&(o.correlationContext=c),s.headerMap&&Fe(s.headerMap).length>0&&(o[Xs]=o[Xs]||{},o[Xs].responseHeaders=s.headerMap),e.status>=400){var u=s.type;o[Xs]=o[Xs]||{},(""===u||"text"===u)&&(o[Xs][a]=s[a]?s.statusText+" - "+s[a]:s.statusText),"json"===u&&(o[Xs][a]=s.response?s.statusText+" - "+JSON.stringify(s.response):s.statusText)}}}return o}}))}})),Zs=m((()=>{Pr(),Pr(),function(){function e(){}e.GetLength=function(e){var t=0;if(!he(e)){var n="";try{n=e.toString()}catch(e){}t=n.length,t=isNaN(t)?0:t}return t}}()})),ec=m((()=>{Pr(),Qs=function(){function e(t,n){var r=this;r.traceFlag=e.DEFAULT_TRACE_FLAG,r.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?r.traceId=t:r.traceId=or(),n&&e.isValidSpanId(n)?r.spanId=n:r.spanId=or().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.toString=function(){var e=this;return e.version+"-"+e.traceId+"-"+e.spanId+"-"+e.traceFlag},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}()}));function tc(e){var t="";try{!he(e)&&!he(e[cc])&&!he(e[cc].requestUrl)&&(t+="(url: '"+e[cc].requestUrl+"')")}catch(e){}return t}function nc(e,t,n,r,i){e[sc]()[uc](ce.CRITICAL,t,n,r,i)}function rc(e,t,n,r,i){e[sc]()[uc](ce.WARNING,t,n,r,i)}function ic(e,t,n){return function(r){nc(e,t,n,{ajaxDiagnosticsMessage:tc(r.inst),exception:gt(r.err)})}}function oc(e,t){return e&&t?e.indexOf(t):-1}var ac,sc,cc,uc,lc,dc,fc,pc,gc,hc,vc,mc,yc,Ic,xc=m((()=>{N(),_a(),Pr(),Ys(),Zs(),ec(),le(),ac="ai.ajxmn.",sc="diagLog",cc="ajaxData",uc="throwInternal",lc="fetch",dc=0,fc=function(e){function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var r,i,o,c,u,l="trackDependencyDataInternal",d=ct(),f=!1,p=!1,g=d&&d.host&&d.host.toLowerCase(),h=t.getEmptyConfig(),v=!1,m=0,y=!1,I=0,C=!1,w=[],T={};return se(t,n,(function(e,n){function d(e){var t=!0;return(e||h.ignoreHeaders)&&_e(h.ignoreHeaders,(function(n){if(n.toLowerCase()===e.toLowerCase())return t=!1,-1})),t}function S(e,t,n){w.push(function(e,t,n){return e?Cr(e[s],t,n,!1):null}(e,t,n))}function b(e,t,n){var r=!1,i=((ke(t)?t:(t||{}).url||"")||"").toLowerCase();if(_e(u,(function(e){var t=e;ke(e)&&(t=new RegExp(e)),r||(r=t.test(i))})),r)return r;var o=oc(i,"?"),a=oc(i,"#");return(-1===o||-1!==a&&a<o)&&(o=a),-1!==o&&(i=i.substring(0,o)),he(e)?he(t)||(r="object"==typeof t&&!0===t[Qr]||!!n&&!0===n[Qr]):r=!0===e[Qr]||!0===i[Qr],r?T[i]||(T[i]=1):T[i]&&(r=!0),r}function E(e,t){var n=!0,r=p;return he(e)||(n=!0===t||!he(e[cc])),r&&n}function k(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(e){}return null}function A(t){try{var n=t.getAllResponseHeaders();if(null!==n&&-1!==oc(n.toLowerCase(),kr.requestContextHeaderLowerCase)){var r=t.getResponseHeader(kr.requestContextHeader);return Vi.getCorrelationContext(r)}}catch(n){rc(e,ue.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:tc(t),exception:gt(n)})}}function P(e,t){if(t.requestUrl&&c&&y){var n=ut();if(n&&Ie(n.mark)){dc++;var r=c+e+"#"+dc;n.mark(r);var i=n.getEntriesByName(r);i&&1===i.length&&(t.perfMark=i[0])}}}function N(e,t,n,r){var i=t.perfMark,o=ut(),a=h.maxAjaxPerfLookupAttempts,s=h.ajaxPerfLookupDelay,c=t.requestUrl,u=0;!function l(){try{if(o&&i){u++;for(var d=null,f=o.getEntries(),p=f.length-1;p>=0;p--){var g=f[p];if(g){if("resource"===g.entryType)g.initiatorType===e&&(-1!==oc(g.name,c)||-1!==oc(c,g.name))&&(d=g);else if("mark"===g.entryType&&g.name===i.name){t.perfTiming=d;break}if(g.startTime<i.startTime-1e3)break}}}!i||t.perfTiming||u>=a||!1===t.async?(i&&Ie(o.clearMarks)&&o.clearMarks(i.name),t.perfAttempts=u,n()):setTimeout(l,s)}catch(e){r(e)}}()}function _(t){var n="";try{he(t)||(n+="string"==typeof t?"(url: '"+t+"')":"(url: '"+t.url+"')")}catch(t){nc(e,ue.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:gt(t)})}return n}function R(t,n,r,i,o,a){function s(t,n,i){var o=i||{};o.fetchDiagnosticsMessage=_(r),n&&(o.exception=gt(n)),rc(e,t,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",o)}i&&(i.responseFinishedTime=Mi(),i.status=n,N("fetch",i,(function(){var t=i.CreateTrackItem("Fetch",v,o);t?e[l](t):s(ue.FailedMonitorAjaxDur,null,{requestSentTime:i.requestSentTime,responseFinishedTime:i.responseFinishedTime})}),(function(e){s(ue.FailedMonitorAjaxGetCorrelationHeader,e,null)})))}function D(t){if(t&&t.headers)try{var n=t.headers.get(kr.requestContextHeader);return Vi.getCorrelationContext(n)}catch(n){rc(e,ue.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:_(t),exception:gt(n)})}}e.initialize=function(g,m,T,_){if(!e.isInitialized()){n.initialize(g,m,T,_);var L=e._getTelCtx();we(t.getDefaultConfig(),(function(e,n){h[e]=L.getConfig(t.identifier,e,n)}));var M=h.distributedTracingMode;if(v=h.enableRequestHeaderTracking,y=h.enableAjaxPerfTracking,I=h.maxAjaxCallsPerView,C=h.enableResponseHeaderTracking,u=h.excludeRequestFromAutoTrackingPatterns,o=M===ii.AI||M===ii.AI_AND_W3C,i=M===ii.AI_AND_W3C||M===ii.W3C,y){var F=g.instrumentationKey||"unkwn";c=F.length>5?ac+F.substring(F.length-5)+".":ac+F+"."}if(!1===h.disableAjaxTracking&&function(e){var t=!1;if(typeof XMLHttpRequest!==a&&!he(XMLHttpRequest)){var n=XMLHttpRequest[s];t=!(he(n)||he(n.open)||he(n.send)||he(n.abort))}var r=pt();if(r&&r<9&&(t=!1),t)try{(new XMLHttpRequest)[cc]={};var i=XMLHttpRequest[s].open;XMLHttpRequest[s].open=i}catch(n){t=!1,nc(e,ue.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:gt(n)})}return t}(e)&&!p&&(S(XMLHttpRequest,"open",{req:function(t,n,i,o){var a=t.inst,s=a[cc];!b(a,i)&&E(a,!0)&&(!s||!s.xhrMonitoringState.openDone)&&function(t,n,i,o){var a=r&&r.telemetryTrace&&r.telemetryTrace.traceID||or(),s=or().substr(0,16),c=new $s(a,s,e[sc]());c.method=n,c.requestUrl=i,c.xhrMonitoringState.openDone=!0,c.requestHeaders={},c.async=o,t[cc]=c,function(t){t[cc].xhrMonitoringState.stateChangeAttached=vr.Attach(t,"readystatechange",(function(){try{t&&4===t.readyState&&E(t)&&function(t){var n=t[cc];function r(n,r){var i=r||{};i.ajaxDiagnosticsMessage=tc(t),n&&(i.exception=gt(n)),rc(e,ue.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",i)}n.responseFinishedTime=Mi(),n.status=t.status,N("xmlhttprequest",n,(function(){try{var i=n.CreateTrackItem("Ajax",v,(function(){var e={statusText:t.statusText,headerMap:null,correlationContext:A(t),type:t.responseType,responseText:k(t),response:t.response};if(C){var n=t.getAllResponseHeaders();if(n){var r=Me(n).split(/[\r\n]+/),i={};_e(r,(function(e){var t=e.split(": "),n=t.shift(),r=t.join(": ");d(n)&&(i[n]=r)})),e.headerMap=i}}return e}));i?e[l](i):r(null,{requestSentTime:n.requestSentTime,responseFinishedTime:n.responseFinishedTime})}finally{try{t[cc]=null}catch(e){}}}),(function(e){r(e,null)}))}(t)}catch(r){var n=gt(r);(!n||-1===oc(n.toLowerCase(),"c00c023f"))&&nc(e,ue.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:tc(t),exception:n})}}))}(t)}(a,n,i,o)},hkErr:ic(e,ue.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),S(XMLHttpRequest,"send",{req:function(t,n){var r=t.inst,i=r[cc];E(r)&&!i.xhrMonitoringState.sendDone&&(P("xhr",i),i.requestSentTime=Mi(),e.includeCorrelationHeaders(i,void 0,void 0,r),i.xhrMonitoringState.sendDone=!0)},hkErr:ic(e,ue.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),S(XMLHttpRequest,"abort",{req:function(e){var t=e.inst,n=t[cc];E(t)&&!n.xhrMonitoringState.abortDone&&(n.aborted=1,n.xhrMonitoringState.abortDone=!0)},hkErr:ic(e,ue.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),v&&S(XMLHttpRequest,"setRequestHeader",{req:function(e,t,n){var r=e.inst;E(r)&&d(t)&&(r[cc].requestHeaders[t]=n)},hkErr:ic(e,ue.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),p=!0),function(){var t=function(){var e=x();return!e||he(e.Request)||he(e.Request[s])||he(e[lc])?null:e[lc]}();if(t){var n=x(),i=t.polyfill;!1===h.disableFetchTracking?(w.push(Cr(n,lc,{req:function(t,n,o){var a;if(f&&!b(null,n,o)&&(!i||!p)){var s=t.ctx();a=function(t,n){var i=r&&r.telemetryTrace&&r.telemetryTrace.traceID||or(),o=or().substr(0,16),a=new $s(i,o,e[sc]());a.requestSentTime=Mi(),t instanceof Request?a.requestUrl=t?t.url:"":a.requestUrl=t;var s="GET";n&&n.method?s=n.method:t&&t instanceof Request&&(s=t.method),a.method=s;var c={};return v&&new Headers((n?n.headers:0)||t instanceof Request&&t.headers||{}).forEach((function(e,t){d(t)&&(c[t]=e)})),a.requestHeaders=c,P("fetch",a),a}(n,o);var c=e.includeCorrelationHeaders(a,n,o);c!==o&&t.set(1,c),s.data=a}},rsp:function(e,t){var n=e.ctx().data;n&&(e.rslt=e.rslt.then((function(e){return R(0,(e||{}).status,e,n,(function(){var t={statusText:e.statusText,headerMap:null,correlationContext:D(e)};if(C){var n={};e.headers.forEach((function(e,t){d(t)&&(n[t]=e)})),t.headerMap=n}return t})),e})).catch((function(e){throw R(0,0,t,n,null,e.message),e})))},hkErr:ic(e,ue.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),f=!0):i&&w.push(Cr(n,lc,{req:function(e,t,n){b(null,t,n)}})),i&&(n[lc].polyfill=i)}}(),T.length>0&&T){for(var U=void 0,q=0;!U&&q<T.length;)T[q]&&T[q].identifier===Ca&&(U=T[q]),q++;U&&(r=U.context)}}},e.teardown=function(){_e(w,(function(e){e.rm()})),w=[],f=!1,p=!1,e.setInitialized(!1)},e.trackDependencyData=function(t,n){e[l](t,n)},e.includeCorrelationHeaders=function(t,n,a,s){var c=e._currentWindowHost||g;if(n){if(Vi.canIncludeCorrelationHeader(h,t.getAbsoluteUrl(),c)){if(a||(a={}),a.headers=new Headers(a.headers||n instanceof Request&&n.headers||{}),o){var u="|"+t.traceID+"."+t.spanID;a.headers.set(kr.requestIdHeader,u),v&&(t.requestHeaders[kr.requestIdHeader]=u)}if((d=h.appId||r&&r.appId())&&(a.headers.set(kr.requestContextHeader,kr.requestContextAppIdFormat+d),v&&(t.requestHeaders[kr.requestContextHeader]=kr.requestContextAppIdFormat+d)),i){var l=new Qs(t.traceID,t.spanID);a.headers.set(kr.traceParentHeader,l.toString()),v&&(t.requestHeaders[kr.traceParentHeader]=l.toString())}}return a}if(s){var d;if(Vi.canIncludeCorrelationHeader(h,t.getAbsoluteUrl(),c))o&&(u="|"+t.traceID+"."+t.spanID,s.setRequestHeader(kr.requestIdHeader,u),v&&(t.requestHeaders[kr.requestIdHeader]=u)),(d=h.appId||r&&r.appId())&&(s.setRequestHeader(kr.requestContextHeader,kr.requestContextAppIdFormat+d),v&&(t.requestHeaders[kr.requestContextHeader]=kr.requestContextAppIdFormat+d)),i&&(l=new Qs(t.traceID,t.spanID),s.setRequestHeader(kr.traceParentHeader,l.toString()),v&&(t.requestHeaders[kr.traceParentHeader]=l.toString()));return s}},e[l]=function(t,n,r){if(-1===I||m<I){(h.distributedTracingMode===ii.W3C||h.distributedTracingMode===ii.AI_AND_W3C)&&"string"==typeof t.id&&"."!==t.id[t.id.length-1]&&(t.id+="."),he(t.startTime)&&(t.startTime=new Date);var i=ya.create(t,Uo.dataType,Uo.envelopeType,e[sc](),n,r);e.core.track(i)}else m===I&&nc(e,ue.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++m}})),n}return S(t,e),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:ii.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]}},t.getEmptyConfig=function(){var e=this.getDefaultConfig();return we(e,(function(t){e[t]=void 0})),e},t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.identifier="AjaxDependencyPlugin",t}(Jt)})),Cc=m((()=>{xc()})),wc=m((()=>{Pr(),ja(),Ss(),zs(),Cc(),_a(),gc=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],hc={__proto__:null,PropertiesPluginIdentifier:Ca,BreezeChannelIdentifier:wa,AnalyticsPluginIdentifier:Ta,Util:qi,CorrelationIdHelper:Vi,UrlHelper:Oi,DateTimeUtils:Bi,ConnectionStringParser:Ki,FieldType:{Default:0,Required:1,Array:2,Hidden:4},RequestHeaders:kr,DisabledPropertyName:Qr,ProcessLegacy:Zr,SampleRate:Yr,HttpMethod:ei,DEFAULT_BREEZE_ENDPOINT:ti,AIData:Xi,AIBase:Gi,Envelope:$i,Event:Yi,Exception:Eo,Metric:Do,PageView:Mo,PageViewData:Lo,RemoteDependencyData:Uo,Trace:Oo,PageViewPerformance:Bo,Data:Ho,SeverityLevel:jo,ConfigurationManager:zo,ContextTagKeys:ma,DataSanitizer:Hr,TelemetryItemCreator:ya,CtxTagKeys:xa,Extensions:Ia,DistributedTracingModes:ii},vc=function(){function e(e){var t=this;t._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var n=e.config||{};if(n.connectionString){var r=ji(n.connectionString),i=r.ingestionendpoint;n.endpointUrl=i?i+"/v2/track":n.endpointUrl,n.instrumentationKey=r.instrumentationkey||n.instrumentationKey}t.appInsights=new qa,t.properties=new Bs,t.dependencies=new fc,t.core=new qn,t._sender=new ms,t.snippet=e,t.config=n,t.getSKUDefaults()}return e.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},e.prototype.trackEvent=function(e,t){this.appInsights.trackEvent(e,t)},e.prototype.trackPageView=function(e){var t=e||{};this.appInsights.trackPageView(t)},e.prototype.trackPageViewPerformance=function(e){var t=e||{};this.appInsights.trackPageViewPerformance(t)},e.prototype.trackException=function(e){e&&!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e)},e.prototype._onerror=function(e){this.appInsights._onerror(e)},e.prototype.trackTrace=function(e,t){this.appInsights.trackTrace(e,t)},e.prototype.trackMetric=function(e,t){this.appInsights.trackMetric(e,t)},e.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,r){this.appInsights.stopTrackPage(e,t,n,r)},e.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsights.stopTrackEvent(e,t,n)},e.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){void 0===n&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},e.prototype.flush=function(e){var t=this;void 0===e&&(e=!0),Ut(this.core,(function(){return"AISKU.flush"}),(function(){_e(t.core.getTransmissionControls(),(function(t){_e(t,(function(t){t.flush(e)}))}))}),null,e)},e.prototype.onunloadFlush=function(e){void 0===e&&(e=!0),_e(this.core.getTransmissionControls(),(function(t){_e(t,(function(t){t.onunloadFlush?t.onunloadFlush():t.flush(e)}))}))},e.prototype.loadAppInsights=function(e,t,n){var r=this;void 0===e&&(e=!1);var i=this;return e&&i.config.extensions&&i.config.extensions.length>0&&ze("Extensions not allowed in legacy mode"),Ut(i.core,(function(){return"AISKU.loadAppInsights"}),(function(){var o=[];o.push(i._sender),o.push(i.properties),o.push(i.dependencies),o.push(i.appInsights),i.core.initialize(i.config,o,t,n),i.context=i.properties.context,pc&&i.context&&(i.context.internal.sdkSrc=pc),function(t){if(t){var n="";he(i._snippetVersion)||(n+=i._snippetVersion),e&&(n+=".lg"),i.context&&i.context.internal&&(i.context.internal.snippetVer=n||"-"),we(i,(function(e,n){ke(e)&&!Ie(n)&&e&&"_"!==e[0]&&-1===gc.indexOf(e)&&(t[e]=n)}))}}(i.snippet),i.emptyQueue(),i.pollInternalLogs(),i.addHousekeepingBeforeUnload(r)})),i},e.prototype.updateSnippetDefinitions=function(e){We(e,this,(function(e){return e&&-1===gc.indexOf(e)}))},e.prototype.emptyQueue=function(){var e=this;try{if(be(e.snippet.queue)){for(var t=e.snippet.queue.length,n=0;n<t;n++)(0,e.snippet.queue[n])();e.snippet.queue=void 0,delete e.snippet.queue}}catch(e){e&&Ie(e.toString)&&e.toString()}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(e){if(rt()||ot()){var t=function(){e.onunloadFlush(!1),_e(e.appInsights.core._extensions,(function(e){if(e.identifier===Ca)return e&&e.context&&e.context._sessionManager&&e.context._sessionManager.backup(),-1}))};if(!e.appInsights.config.disableFlushOnBeforeUnload){var n=tr("beforeunload",t);n=tr("unload",t)||n,n=tr("pagehide",t)||n,!(n=tr("visibilitychange",t)||n)&&!function(){var e=st();return!(!e||!e.product)&&e.product===bt}()&&e.appInsights.core.logger.throwInternal(ce.CRITICAL,ue.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}e.appInsights.config.disableFlushOnUnload||(tr("pagehide",t),tr("visibilitychange",t))}},e.prototype.getSender=function(){return this._sender},e.prototype.getSKUDefaults=function(){var e=this;e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4},e}(),function(){var e=null,t=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(e=n.src)}catch(e){}if(e)try{var r=e.toLowerCase();if(r)for(var i="",o=0;o<t.length;o++)if(-1!==r.indexOf(t[o])){i="cdn"+(o+1),-1===r.indexOf("/scripts/")&&(-1!==r.indexOf("/next/")?i+="-next":-1!==r.indexOf("/beta/")&&(i+="-beta")),pc=i+"";break}}catch(e){}}()})),Tc=m((()=>{_a(),Pr(),mc=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],yc=function(){function e(t,n){this._hasLegacyInitializers=!1,this._queue=[],this.config=e.getDefaultConfig(t.config),this.appInsightsNew=n,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return e.getDefaultConfig=function(e){return e||(e={}),e.endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.maxBatchSizeInBytes=e.maxBatchSizeInBytes>0?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=Kr(e.enableDebug),e.disableExceptionTracking=Kr(e.disableExceptionTracking),e.disableTelemetry=Kr(e.disableTelemetry),e.verboseLogging=Kr(e.verboseLogging),e.emitLineDelimitedJson=Kr(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=Kr(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.disableAjaxTracking=Kr(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=Kr(e.isBeaconApiDisabled,!0),e.disableCorrelationHeaders=Kr(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=Kr(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=Kr(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=Kr(e.enableSessionStorageBuffer,!0),e.isRetryDisabled=Kr(e.isRetryDisabled),e.isCookieUseDisabled=Kr(e.isCookieUseDisabled),e.isStorageUseDisabled=Kr(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Kr(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=Kr(e.enableCorsCorrelation),e},e.prototype.addTelemetryInitializers=function(e){var t=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer((function(e){t._processLegacyInitializers(e)})),this._hasLegacyInitializers=!0),this._queue.push(e)},e.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},e.prototype.startTrackPage=function(e){this.appInsightsNew.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,r){this.appInsightsNew.stopTrackPage(e,t,n)},e.prototype.trackPageView=function(e,t,n,r,i){var o={name:e,uri:t,properties:n,measurements:r};this.appInsightsNew.trackPageView(o)},e.prototype.trackEvent=function(e,t,n){this.appInsightsNew.trackEvent({name:e})},e.prototype.trackDependency=function(e,t,n,r,i,o,a){this.appInsightsNew.trackDependencyData({id:e,target:n,type:r,duration:i,properties:{HttpMethod:t},success:o,responseCode:a})},e.prototype.trackException=function(e,t,n,r,i){this.appInsightsNew.trackException({exception:e})},e.prototype.trackMetric=function(e,t,n,r,i,o){this.appInsightsNew.trackMetric({name:e,average:t,sampleCount:n,min:r,max:i})},e.prototype.trackTrace=function(e,t,n){this.appInsightsNew.trackTrace({message:e,severityLevel:n})},e.prototype.flush=function(e){this.appInsightsNew.flush(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){this.appInsightsNew.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},e.prototype._onerror=function(e,t,n,r,i){this.appInsightsNew._onerror({message:e,url:t,lineNumber:n,columnNumber:r,error:i})},e.prototype.startTrackEvent=function(e){this.appInsightsNew.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsightsNew.stopTrackEvent(e,t,n)},e.prototype.downloadAndSetup=function(e){ze("downloadAndSetup not implemented in web SKU")},e.prototype.updateSnippetDefinitions=function(e){We(e,this,(function(e){return e&&-1===mc.indexOf(e)}))},e.prototype.loadAppInsights=function(){var e=this;if(this.config.iKey){var t=this.trackPageView;this.trackPageView=function(n,r,i){t.apply(e,[null,n,r,i])}}var n="logPageView";"function"==typeof this.snippet[n]&&(this[n]=function(t,n,r){e.trackPageView(null,t,n,r)});var r="logEvent";return"function"==typeof this.snippet[r]&&(this[r]=function(t,n,r){e.trackEvent(t,n,r)}),this},e.prototype._processLegacyInitializers=function(e){return e.tags[Zr]=this._queue,e},e}()})),Sc=m((()=>{Tc(),wc(),Pr(),Ic=function(){function e(){}return e.getAppInsights=function(e,t){var n=new vc(e),r=2!==t;if(ar(),2===t)return n.updateSnippetDefinitions(e),n.loadAppInsights(r),n;var i=new yc(e,n);return i.updateSnippetDefinitions(e),n.loadAppInsights(r),i},e}()})),bc={};((e,t)=>{for(var n in(e=>{v(e,"__esModule",{value:!0})})(e),t)v(e,n,{get:t[n],enumerable:!0})})(bc,{AppInsightsCore:()=>qn,ApplicationAnalytics:()=>qa,ApplicationInsights:()=>vc,ApplicationInsightsContainer:()=>Ic,BaseCore:()=>Fn,BaseTelemetryPlugin:()=>Jt,CoreUtils:()=>gr,DependenciesPlugin:()=>fc,DistributedTracingModes:()=>ii,Event:()=>Yi,Exception:()=>Eo,LoggingSeverity:()=>ce,Metric:()=>Do,NotificationManager:()=>Un,PageView:()=>Mo,PageViewPerformance:()=>Bo,PerfEvent:()=>qt,PerfManager:()=>Ot,PropertiesPlugin:()=>Bs,RemoteDependencyData:()=>Uo,Sender:()=>ms,SeverityLevel:()=>jo,Telemetry:()=>hc,Trace:()=>Oo,Util:()=>qi,_InternalMessageId:()=>ue,doPerf:()=>Ut});var Ec,kc,Ac=m((()=>{wc(),Sc(),Pr(),_a(),Ss(),ja(),zs(),Cc()}));function Pc(){return void 0!==h.env.isTelemetryEnabled?h.env.isTelemetryEnabled?Ec.ON:Ec.OFF:h.workspace.getConfiguration("telemetry").get("enableTelemetry")?Ec.ON:Ec.OFF}(kc=Ec||(Ec={})).ON="on",kc.OFF="off";var Nc=async e=>{let t;try{let n,r=await Promise.resolve().then((()=>(Ac(),bc)));e&&0===e.indexOf("AIF-")&&(n="https://vortex.data.microsoft.com/collect/v1"),t=new r.ApplicationInsights({config:{instrumentationKey:e,endpointUrl:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0,disableInstrumentationKeyValidation:!0}}),t.loadAppInsights();let i=Pc();n&&i===Ec.ON&&fetch(n).catch((()=>t=void 0))}catch(e){return Promise.reject(e)}return{logEvent:(e,n)=>{t?.trackEvent({name:e},{...n?.properties,...n?.measurements})},logException:(e,n)=>{t?.trackException({exception:e,properties:{...n?.properties,...n?.measurements}})},flush:async()=>{t?.flush()}}},_c=class extends class{constructor(e,t,n,r,i){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=n,this.osShim=r,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!i,this.updateUserOptStatus(),void 0!==h.env.onDidChangeTelemetryEnabled?(this.disposables.push(h.env.onDidChangeTelemetryEnabled((()=>this.updateUserOptStatus()))),this.disposables.push(h.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))):this.disposables.push(h.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))}updateUserOptStatus(){let e=Pc();this.userOptIn=e===Ec.ON,this.errorOptIn=e===Ec.ON,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach((n=>{0===e.indexOf(`${n}+`)&&(t=n)})),t}get extension(){return void 0===this._extension&&(this._extension=h.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(null===e||"object"!=typeof e||"function"!=typeof t)return e;let n={};for(let r in e)n[r]=t(r,e[r]);return n}shouldSendErrorTelemetry(){return!(!1===this.errorOptIn||this.firstParty&&"other"===this.cleanRemoteName(h.env.remoteName)&&(void 0===this.extension||this.extension.extensionKind===h.ExtensionKind.Workspace||h.env.uiKind===h.UIKind.Web))}getCommonProperties(){let e=Object.create(null);if(e["common.os"]=this.osShim.platform,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,h&&h.env){switch(e["common.vscodemachineid"]=h.env.machineId,e["common.vscodesessionid"]=h.env.sessionId,e["common.vscodeversion"]=h.version,e["common.isnewappinstall"]=h.env.isNewAppInstall?h.env.isNewAppInstall.toString():"false",e["common.product"]=h.env.appHost,h.env.uiKind){case h.UIKind.Web:e["common.uikind"]="web";break;case h.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(h.env.remoteName)}return e}anonymizeFilePaths(e,t){let n;if(null==e)return"";let r=[];""!==h.env.appRoot&&r.push(new RegExp(h.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=e;if(t){let t=[];for(let i of r)for(;(n=i.exec(e))&&n;)t.push([n.index,i.lastIndex]);let o=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,a=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,s=0;for(i="";(n=a.exec(e))&&n;)n[0]&&!o.test(n[0])&&t.every((([e,t])=>n.index<e||n.index>=t))&&(i+=e.substring(s,n.index)+"<REDACTED: user-file-path>",s=a.lastIndex);s<e.length&&(i+=e.substr(s))}for(let e of r)i=i.replace(e,"");return i}removePropertiesWithPossibleUserInfo(e){if("object"!=typeof e)return;let t=Object.create(null);for(let n of Object.keys(e)){let r=e[n];if(!r)continue;let i=/@[a-zA-Z0-9-.]+/;/\S*(key|token|sig|password|passwd|pwd)[="':\s]+\S*/.test(r.toLowerCase())?t[n]="<REDACTED: secret>":i.test(r)?t[n]="<REDACTED: email>":t[n]=r}return t}sendTelemetryEvent(e,t,n){if(this.userOptIn&&""!==e){t={...t,...this.getCommonProperties()};let r=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(r),measurements:n})}}sendRawTelemetryEvent(e,t,n){this.userOptIn&&""!==e&&(t={...t,...this.getCommonProperties()},this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:t,measurements:n}))}sendTelemetryErrorEvent(e,t,n,r){if(this.errorOptIn&&""!==e){t={...t,...this.getCommonProperties()};let i=this.cloneAndChange(t,((e,t)=>this.shouldSendErrorTelemetry()?this.anonymizeFilePaths(t,this.firstParty):void 0===r||-1!==r.indexOf(e)?"REDACTED":this.anonymizeFilePaths(t,this.firstParty)));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(i),measurements:n})}}sendTelemetryException(e,t,n){if(this.shouldSendErrorTelemetry()&&this.errorOptIn&&e){t={...t,...this.getCommonProperties()};let r=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),this.telemetryAppender.logException(e,{properties:this.removePropertiesWithPossibleUserInfo(r),measurements:n})}}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map((e=>e.dispose())))}}{constructor(e,t,n,r){let i=new class{constructor(e,t){this._isInstantiated=!1,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e,Pc()!==Ec.OFF&&this.instantiateAppender()}logEvent(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):!this._isInstantiated&&Pc()===Ec.ON&&this._eventQueue.push({eventName:e,data:t})}logException(e,t){this._telemetryClient?this._telemetryClient.logException(e,t):!this._isInstantiated&&Pc()!==Ec.OFF&&this._exceptionQueue.push({exception:e,data:t})}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=>this.logEvent(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=>this.logException(e,t))),this._exceptionQueue=[]}instantiateAppender(){this._isInstantiated||this._clientFactory(this._key).then((e=>{this._telemetryClient=e,this._isInstantiated=!0,this._flushQueues()})).catch((e=>{console.error(e)}))}}(n,Nc);n&&0===n.indexOf("AIF-")&&(r=!0),super(e,t,i,{release:navigator.appVersion,platform:"web"},r)}}},496:e=>{e.exports=require("vscode")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=n(496),i=n(153);e.activate=function(e){console.log('Congratulations, your extension "code-runner-for-web" is now active in the web extension host!');const n=new i.CodeManager(e);e.subscriptions.push(t.commands.registerCommand("code-runner-for-web.run",(()=>{n.run()})))},e.deactivate=function(){}})();var i=exports;for(var o in r)i[o]=r[o];r.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();